"use strict";(self.webpackChunkpackit_dev=self.webpackChunkpackit_dev||[]).push([[5144],{3905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>m});var r=a(67294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function p(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var l=r.createContext({}),c=function(e){var t=r.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},d=function(e){var t=c(e.components);return r.createElement(l.Provider,{value:t},e.children)},u="mdxType",s={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},h=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,o=e.originalType,l=e.parentName,d=p(e,["components","mdxType","originalType","parentName"]),u=c(a),h=n,m=u["".concat(l,".").concat(h)]||u[h]||s[h]||o;return a?r.createElement(m,i(i({ref:t},d),{},{components:a})):r.createElement(m,i({ref:t},d))}));function m(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=a.length,i=new Array(o);i[0]=h;var p={};for(var l in t)hasOwnProperty.call(t,l)&&(p[l]=t[l]);p.originalType=e,p[u]="string"==typeof e?e:n,i[1]=p;for(var c=2;c<o;c++)i[c]=a[c];return r.createElement.apply(null,i)}return r.createElement.apply(null,a)}h.displayName="MDXCreateElement"},44927:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>s,frontMatter:()=>o,metadata:()=>p,toc:()=>c});var r=a(87462),n=(a(67294),a(3905));const o={title:"create-update",date:new Date("2019-06-28T00:00:00.000Z"),sidebar_position:5},i="packit create-update",p={unversionedId:"cli/create-update",id:"cli/create-update",title:"create-update",description:"Create a new bodhi update for the latest Fedora build of the upstream project.",source:"@site/docs/cli/create-update.md",sourceDirName:"cli",slug:"/cli/create-update",permalink:"/docs/cli/create-update",draft:!1,editUrl:"https://github.com/packit/packit.dev/tree/main/docs/cli/create-update.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{title:"create-update",date:"2019-06-28T00:00:00.000Z",sidebar_position:5},sidebar:"autogenerated",previous:{title:"init",permalink:"/docs/cli/init"},next:{title:"propose-downstream",permalink:"/docs/cli/propose-downstream"}},l={},c=[{value:"Requirements",id:"requirements",level:2},{value:"Tutorial",id:"tutorial",level:2},{value:"Help",id:"help",level:2}],d={toc:c},u="wrapper";function s(e){let{components:t,...a}=e;return(0,n.kt)(u,(0,r.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"packit-create-update"},(0,n.kt)("inlineCode",{parentName:"h1"},"packit create-update")),(0,n.kt)("p",null,"Create a new bodhi update for the latest Fedora build of the upstream project."),(0,n.kt)("h2",{id:"requirements"},"Requirements"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Upstream git repository on GitHub."),(0,n.kt)("li",{parentName:"ul"},"Packit config file placed in the upstream repository.")),(0,n.kt)("h2",{id:"tutorial"},"Tutorial"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("a",{parentName:"p",href:"/docs/configuration/"},"Place a config file for packit in the root of your upstream repository."),".")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Once the ",(0,n.kt)("a",{parentName:"p",href:"/docs/cli/build/"},"builds are done"),", you can run the ",(0,n.kt)("inlineCode",{parentName:"p"},"create-update")," command.\nIf you don't specify the koji builds packit takes latest build."),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre"},'$ packit create-update --dist-git-branch f35 https://github.com/packit/packit.git\nBodhi OIDC authentication follows.\nAuthenticating... Please open your browser to:\nhttps://id.fedoraproject.org/openidc/Authorization?response_type=code...\nPaste here the code that you got after logging in: code=d4d8e70c-ea...\nLogin successful!\n\nBodhi update FEDORA-2019-b72add0dcd:\n- https://bodhi.fedoraproject.org/updates/FEDORA-2019-b72add0dcd\n- stable_karma: 3\n- unstable_karma: -3\n- notes: "New upstream release 0.42.0"\n')))),(0,n.kt)("p",null,"If you are not authenticated with the bodhi server, please make sure that you\nnavigate in your browser to the URL provided by the bodhi-client and then paste\nthe ",(0,n.kt)("inlineCode",{parentName:"p"},"code=XX...")," to the terminal when prompted."),(0,n.kt)("p",null,"If you set ",(0,n.kt)("inlineCode",{parentName:"p"},"fas_user")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"kerberos_realm"),' in your "~/.config/packit.yaml" and\nhave an active Kerberos TGT, you will be automatically authenticated.'),(0,n.kt)("h2",{id:"help"},"Help"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},'  Usage: packit create-update [OPTIONS] [PATH_OR_URL]\n  \n    Create a bodhi update for the selected upstream project\n  \n    If you are not authenticated with the bodhi server, please make sure that\n    you navigate in your browser to the URL provided by the bodhi-client and\n    then paste the `code=XX...` to the terminal when prompted.\n  \n    If you set `fas_user` and `kerberos_realm` in your "~/.config/packit.yaml"\n    and have an active Kerberos TGT, you will be automatically authenticated.\n    Otherwise, you need to follow the prompt\n  \n    PATH_OR_URL argument is a local path or a URL to the upstream git\n    repository, it defaults to the current working directory\n  \n  Options:\n    --dist-git-branch TEXT          Comma separated list of target branches in\n                                    dist-git to create bodhi update in.\n                                    (defaults to repo\'s default branch)\n    --dist-git-path TEXT            Path to dist-git repo to work in. Otherwise\n                                    clone the repo in a temporary directory.\n    --koji-build TEXT               Koji build (NVR) to add to the bodhi update\n                                    (can be specified multiple times)\n    --update-notes TEXT             Bodhi update notes\n    --update-type [security|bugfix|enhancement|newpackage]\n                                    Type of the bodhi update\n    -b, --resolve-bugzillas BUGZILLA_IDS\n                                    Bugzilla IDs that are resolved with the\n                                    update\n    -p, --package TEXT              Package to update, if more than one\n                                    available, like in a monorepo configuration.\n                                    Use it multiple times to select multiple\n                                    packages.Defaults to all the packages listed\n                                    inside the config.\n    -h, --help                      Show this message and exit.\n')))}s.isMDXComponent=!0}}]);