"use strict";(self.webpackChunkpackit_dev=self.webpackChunkpackit_dev||[]).push([[9788],{3905:(e,t,r)=>{r.d(t,{Zo:()=>s,kt:()=>d});var n=r(67294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var l=n.createContext({}),c=function(e){var t=n.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},s=function(e){var t=c(e.components);return n.createElement(l.Provider,{value:t},e.children)},m="mdxType",g={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,s=p(e,["components","mdxType","originalType","parentName"]),m=c(r),u=a,d=m["".concat(l,".").concat(u)]||m[u]||g[u]||o;return r?n.createElement(d,i(i({ref:t},s),{},{components:r})):n.createElement(d,i({ref:t},s))}));function d(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=r.length,i=new Array(o);i[0]=u;var p={};for(var l in t)hasOwnProperty.call(t,l)&&(p[l]=t[l]);p.originalType=e,p[m]="string"==typeof e?e:a,i[1]=p;for(var c=2;c<o;c++)i[c]=r[c];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}u.displayName="MDXCreateElement"},32547:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>g,frontMatter:()=>o,metadata:()=>p,toc:()=>c});var n=r(87462),a=(r(67294),r(3905));const o={title:"Updating the changelog"},i=void 0,p={unversionedId:"scripts",id:"scripts",title:"Updating the changelog",description:"In order to simplify the process of Github releases (mainly in packit and ogr), we generate the changelog semi-automatically. The script changelog.py goes through the merge commits starting from the specified ref (typically the tag of the last release) and parses the changelog entry from our PR template.",source:"@site/deployment/scripts.md",sourceDirName:".",slug:"/scripts",permalink:"/deployment/scripts",draft:!1,editUrl:"https://github.com/packit/deployment/tree/main/docs/deployment/scripts.md",tags:[],version:"current",frontMatter:{title:"Updating the changelog"},sidebar:"autogenerated",previous:{title:"PostgreSQL",permalink:"/deployment/postgresql"},next:{title:"Secrets",permalink:"/deployment/secrets"}},l={},c=[],s={toc:c},m="wrapper";function g(e){let{components:t,...r}=e;return(0,a.kt)(m,(0,n.Z)({},s,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"In order to simplify the process of Github releases (mainly in packit and ogr), we generate the changelog semi-automatically. The script ",(0,a.kt)("inlineCode",{parentName:"p"},"changelog.py")," goes through the merge commits starting from the specified ref (typically the tag of the last release) and parses the changelog entry from our PR template."),(0,a.kt)("p",null,"In order to generate the changelog"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"[","OPTIONAL","]"," Add the changelog script to your ",(0,a.kt)("inlineCode",{parentName:"p"},"PATH")," to simplify its usage, e.g. by adding ",(0,a.kt)("inlineCode",{parentName:"p"},'export PATH="~/repos/deployment/scripts:$PATH"')," to your ",(0,a.kt)("inlineCode",{parentName:"p"},".bashrc")," or ",(0,a.kt)("inlineCode",{parentName:"p"},".zshrc"),".")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Call the script:"),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre"},"# get changes in the current directory since the last release\n$ changelog.py\n\n# specify a ref explicitly\n$ changelog.py 0.34.0\n\n# use a different git-repo\n$ changelog.py --git-repo ~/repos/packit 0.34.0\n\n# refer to the help message for more information\n$ changelog.py --help\n\n"))),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Manually adjust the output and add it to ",(0,a.kt)("inlineCode",{parentName:"p"},"CHANGELOG.md")," with a header."))))}g.isMDXComponent=!0}}]);