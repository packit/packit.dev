"use strict";(self.webpackChunkpackit_dev=self.webpackChunkpackit_dev||[]).push([[59976],{15680:(e,t,n)=>{n.d(t,{xA:()=>s,yg:()=>y});var a=n(96540);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=a.createContext({}),c=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},s=function(e){var t=c(e.components);return a.createElement(p.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,p=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),u=c(n),m=r,y=u["".concat(p,".").concat(m)]||u[m]||d[m]||i;return n?a.createElement(y,o(o({ref:t},s),{},{components:n})):a.createElement(y,o({ref:t},s))}));function y(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=m;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l[u]="string"==typeof e?e:r,o[1]=l;for(var c=2;c<i;c++)o[c]=n[c];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},72260:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>d,frontMatter:()=>i,metadata:()=>l,toc:()=>c});var a=n(58168),r=(n(96540),n(15680));const i={title:"Packit CLI",date:new Date("2019-07-09T00:00:00.000Z"),chapter:!1,sidebar_position:8},o="Packit CLI",l={unversionedId:"cli/index",id:"cli/index",title:"Packit CLI",description:"Installation",source:"@site/docs/cli/index.md",sourceDirName:"cli",slug:"/cli/",permalink:"/docs/cli/",draft:!1,editUrl:"https://github.com/packit/packit.dev/tree/main/docs/cli/index.md",tags:[],version:"current",sidebarPosition:8,frontMatter:{title:"Packit CLI",date:"2019-07-09T00:00:00.000Z",chapter:!1,sidebar_position:8},sidebar:"autogenerated",previous:{title:"Retriggering",permalink:"/docs/retriggering"},next:{title:"init",permalink:"/docs/cli/init"}},p={},c=[{value:"Installation",id:"installation",level:2},{value:"Fedora Linux",id:"fedora-linux",level:3},{value:"Red Hat Enterprise Linux or CentOS Stream 9",id:"red-hat-enterprise-linux-or-centos-stream-9",level:3},{value:"From Fedora Copr",id:"from-fedora-copr",level:3},{value:"From PyPI",id:"from-pypi",level:3},{value:"From Source",id:"from-source",level:3},{value:"In a container",id:"in-a-container",level:3},{value:"Copr build",id:"copr-build",level:4},{value:"Koji build",id:"koji-build",level:4},{value:"Commands",id:"commands",level:2}],s={toc:c},u="wrapper";function d(e){let{components:t,...n}=e;return(0,r.yg)(u,(0,a.A)({},s,n,{components:t,mdxType:"MDXLayout"}),(0,r.yg)("h1",{id:"packit-cli"},"Packit CLI"),(0,r.yg)("h2",{id:"installation"},"Installation"),(0,r.yg)("p",null,"There are various ways how to install ",(0,r.yg)("a",{parentName:"p",href:"https://github.com/packit/packit"},"packit CLI"),".\nPick what suits you the best:"),(0,r.yg)("h3",{id:"fedora-linux"},"Fedora Linux"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"$ sudo dnf install packit\n")),(0,r.yg)("h3",{id:"red-hat-enterprise-linux-or-centos-stream-9"},"Red Hat Enterprise Linux or CentOS Stream 9"),(0,r.yg)("p",null,"On RHEL/CentOS Stream 9 you can install RPM from ",(0,r.yg)("a",{parentName:"p",href:"https://fedoraproject.org/wiki/EPEL"},"EPEL")," repository."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"$ sudo dnf install epel-release\n$ sudo dnf install packit\n")),(0,r.yg)("h3",{id:"from-fedora-copr"},"From Fedora Copr"),(0,r.yg)("p",null,"You can also help us test the latest development snapshot by installing packit\nbuilt from the main branch in Copr:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"$ sudo dnf copr enable packit/packit-dev\n$ sudo dnf install packit\n$ # OR in case you have packit already installed from the Fedora repositories:\n$ sudo dnf upgrade packit\n")),(0,r.yg)("admonition",{type:"tip"},(0,r.yg)("p",{parentName:"admonition"},"We have multiple Copr repositories:"),(0,r.yg)("ul",{parentName:"admonition"},(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"packit-releases")," \u2014 contains latest releases, even before they get pushed to\n",(0,r.yg)("em",{parentName:"li"},"stable")," as updates by Bodhi"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"packit-dev")," \u2014 contains latest Packit (from the ",(0,r.yg)("inlineCode",{parentName:"li"},"main")," branch)"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"packit-stable")," \u2014 contains Packit that runs on our production"))),(0,r.yg)("h3",{id:"from-pypi"},"From PyPI"),(0,r.yg)("p",null,"When you install packit with ",(0,r.yg)("inlineCode",{parentName:"p"},"pip"),",\nsome of the dependencies need to be compiled from sources,\nfor example on Fedora you first need to install a few devel packages:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"$ sudo dnf install gcc python3-devel libcurl-devel krb5-devel openssl-devel\n")),(0,r.yg)("p",null,"Packit on PyPI is available as ",(0,r.yg)("a",{parentName:"p",href:"https://pypi.org/project/packitos"},"packitos"),"\nproject (packit at PyPI is something different)."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"$ pip install --user packitos\n")),(0,r.yg)("h3",{id:"from-source"},"From Source"),(0,r.yg)("p",null,"... or installing it directly from GitHub:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"$ pip install --user git+https://github.com/packit/packit\n")),(0,r.yg)("p",null,"You will need to install some devel packages first, see above section."),(0,r.yg)("h3",{id:"in-a-container"},"In a container"),(0,r.yg)("p",null,"If none of the above work for you, try running it in a container\nfrom our Fedora based image. It contains packit installed from ",(0,r.yg)("inlineCode",{parentName:"p"},"main")," branch,\ni.e. the same you'd get by pip installing from GitHub."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"$ podman run -ti --rm -v $PWD:/src:z quay.io/packit/packit bash\n$ packit\nUsage: packit [OPTIONS] COMMAND [ARGS]...\n")),(0,r.yg)("admonition",{type:"tip"},(0,r.yg)("p",{parentName:"admonition"},"If you get an error such as ",(0,r.yg)("inlineCode",{parentName:"p"},"Error: SELinux relabeling of /some/dir is not allowed"),", make sure\nyour working directory is a directory your user has full access to. The relabeling is requested\nby the ",(0,r.yg)("inlineCode",{parentName:"p"},":z")," suffix in order to ensure the directory is writable from both inside and outside\nthe container.")),(0,r.yg)("p",null,"Depending on the command you want to perform you need to mount secrets and\nconfiguration files, like in the following examples:"),(0,r.yg)("h4",{id:"copr-build"},"Copr build"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"$ podman run -ti --rm -v ~/.config/copr:/root/.config/copr:z -v $PWD:/src:z quay.io/packit/packit bash\n$ packit build in-copr\n")),(0,r.yg)("h4",{id:"koji-build"},"Koji build"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"$ podman run -ti --rm -v ~/.ssh/:/root/.ssh:z -v $PWD:/src:z quay.io/packit/packit bash\n$ fkinit -u <Fedora Account username>\n$ packit build in-koji\n")),(0,r.yg)("h2",{id:"commands"},"Commands"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"/docs/cli/build/"},"build")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"/docs/cli/create-update/"},"create-update")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"/docs/cli/init/"},"init")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"/docs/cli/propose-downstream/"},"propose-downstream")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"/docs/cli/push-updates"},"push-updates")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"/docs/cli/srpm/"},"srpm")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"/docs/cli/status"},"status")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"/docs/cli/sync-from-downstream/"},"sync-from-downstream")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"/docs/cli/config/validate"},"config validate")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"/docs/cli/source-git/init"},"source-git init")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"/docs/cli/source-git/update-dist-git"},"source-git update-dist-git")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"/docs/cli/source-git/update-source-git"},"source-git update-source-git")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("a",{parentName:"li",href:"/docs/cli/source-git/status"},"source-git status"))))}d.isMDXComponent=!0}}]);