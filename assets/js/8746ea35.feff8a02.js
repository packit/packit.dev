"use strict";(self.webpackChunkpackit_dev=self.webpackChunkpackit_dev||[]).push([[30396],{12910:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>l,contentTitle:()=>p,default:()=>f,frontMatter:()=>i,metadata:()=>s,toc:()=>o});var n=t(58168),a=(t(96540),t(15680));const i={sidebar_label:"spec_parser",title:"specfile.spec_parser"},p=void 0,s={unversionedId:"api/specfile/spec_parser",id:"api/specfile/spec_parser",title:"specfile.spec_parser",description:"SpecParser",source:"@site/specfile/api/specfile/spec_parser.md",sourceDirName:"api/specfile",slug:"/api/specfile/spec_parser",permalink:"/specfile/api/specfile/spec_parser",draft:!1,editUrl:"https://github.com/packit/specfile/tree/main/docs/specfile/api/specfile/spec_parser.md",tags:[],version:"current",frontMatter:{sidebar_label:"spec_parser",title:"specfile.spec_parser"},sidebar:"autogenerated",previous:{title:"sources",permalink:"/specfile/api/specfile/sources"},next:{title:"tags",permalink:"/specfile/api/specfile/tags"}},l={},o=[{value:"SpecParser",id:"specparser",level:2},{value:"parse",id:"parse",level:4}],c={toc:o},u="wrapper";function f(e){let{components:r,...t}=e;return(0,a.yg)(u,(0,n.A)({},c,t,{components:r,mdxType:"MDXLayout"}),(0,a.yg)("h2",{id:"specparser"},"SpecParser"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-python"},"class SpecParser()\n")),(0,a.yg)("p",null,"Class that represents a spec file parser."),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Attributes"),":"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("inlineCode",{parentName:"li"},"sourcedir")," - Path to sources and patches."),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("inlineCode",{parentName:"li"},"macros")," - List of extra macro definitions."),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("inlineCode",{parentName:"li"},"force_parse")," - Whether to attempt to parse the spec file even if one or more\nsources required to be present at parsing time are not available.\nSuch sources include sources referenced from shell expansions\nin tag values and sources included using the ",(0,a.yg)("em",{parentName:"li"},"%include")," directive."),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("inlineCode",{parentName:"li"},"spec")," - ",(0,a.yg)("inlineCode",{parentName:"li"},"rpm.spec")," instance representing parsed spec file."),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("inlineCode",{parentName:"li"},"tainted")," - Indication that parsing of the spec file was forced and one or more\nsources required to be present at parsing time were not available\nand were replaced with dummy files.")),(0,a.yg)("h4",{id:"parse"},"parse"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-python"},"def parse(\n        content: str,\n        extra_macros: Optional[List[Tuple[str,\n                                          Optional[str]]]] = None) -> None\n")),(0,a.yg)("p",null,"Parses the content of a spec file and updates the ",(0,a.yg)("inlineCode",{parentName:"p"},"spec")," and ",(0,a.yg)("inlineCode",{parentName:"p"},"tainted")," attributes."),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Arguments"),":"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("inlineCode",{parentName:"li"},"content")," - String representing the content of a spec file."),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("inlineCode",{parentName:"li"},"extra_macros")," - List of extra macro definitions.")),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"Raises"),":"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("inlineCode",{parentName:"li"},"RPMException")," - If parsing error occurs.")))}f.isMDXComponent=!0},15680:(e,r,t)=>{t.d(r,{xA:()=>c,yg:()=>g});var n=t(96540);function a(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function i(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function p(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?i(Object(t),!0).forEach((function(r){a(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function s(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var l=n.createContext({}),o=function(e){var r=n.useContext(l),t=r;return e&&(t="function"==typeof e?e(r):p(p({},r),e)),t},c=function(e){var r=o(e.components);return n.createElement(l.Provider,{value:r},e.children)},u="mdxType",f={inlineCode:"code",wrapper:function(e){var r=e.children;return n.createElement(n.Fragment,{},r)}},m=n.forwardRef((function(e,r){var t=e.components,a=e.mdxType,i=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),u=o(t),m=a,g=u["".concat(l,".").concat(m)]||u[m]||f[m]||i;return t?n.createElement(g,p(p({ref:r},c),{},{components:t})):n.createElement(g,p({ref:r},c))}));function g(e,r){var t=arguments,a=r&&r.mdxType;if("string"==typeof e||a){var i=t.length,p=new Array(i);p[0]=m;var s={};for(var l in r)hasOwnProperty.call(r,l)&&(s[l]=r[l]);s.originalType=e,s[u]="string"==typeof e?e:a,p[1]=s;for(var o=2;o<i;o++)p[o]=t[o];return n.createElement.apply(null,p)}return n.createElement.apply(null,t)}m.displayName="MDXCreateElement"}}]);