"use strict";(self.webpackChunkpackit_dev=self.webpackChunkpackit_dev||[]).push([[46215],{3905:(e,t,r)=>{r.d(t,{Zo:()=>u,kt:()=>m});var n=r(67294);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var c=n.createContext({}),p=function(e){var t=n.useContext(c),r=t;return e&&(r="function"==typeof e?e(t):a(a({},t),e)),r},u=function(e){var t=p(e.components);return n.createElement(c.Provider,{value:t},e.children)},l="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},f=n.forwardRef((function(e,t){var r=e.components,i=e.mdxType,o=e.originalType,c=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),l=p(r),f=i,m=l["".concat(c,".").concat(f)]||l[f]||d[f]||o;return r?n.createElement(m,a(a({ref:t},u),{},{components:r})):n.createElement(m,a({ref:t},u))}));function m(e,t){var r=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=r.length,a=new Array(o);a[0]=f;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s[l]="string"==typeof e?e:i,a[1]=s;for(var p=2;p<o;p++)a[p]=r[p];return n.createElement.apply(null,a)}return n.createElement.apply(null,r)}f.displayName="MDXCreateElement"},41597:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>d,frontMatter:()=>o,metadata:()=>s,toc:()=>p});var n=r(87462),i=(r(67294),r(3905));const o={title:"prepare-sources",date:"2021-12-8",sidebar_position:8},a="packit prepare-sources",s={unversionedId:"cli/prepare-sources",id:"cli/prepare-sources",title:"prepare-sources",description:"Prepares sources for a new SRPM build using the content of the upstream repository.",source:"@site/docs/cli/prepare-sources.md",sourceDirName:"cli",slug:"/cli/prepare-sources",permalink:"/docs/cli/prepare-sources",draft:!1,editUrl:"https://github.com/packit/packit.dev/tree/main/docs/cli/prepare-sources.md",tags:[],version:"current",sidebarPosition:8,frontMatter:{title:"prepare-sources",date:"2021-12-8",sidebar_position:8},sidebar:"autogenerated",previous:{title:"propose-downstream",permalink:"/docs/cli/propose-downstream"},next:{title:"pull-from-upstream",permalink:"/docs/cli/pull-from-upstream"}},c={},p=[{value:"Requirements",id:"requirements",level:2},{value:"Help",id:"help",level:2}],u={toc:p},l="wrapper";function d(e){let{components:t,...r}=e;return(0,i.kt)(l,(0,n.Z)({},u,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"packit-prepare-sources"},(0,i.kt)("inlineCode",{parentName:"h1"},"packit prepare-sources")),(0,i.kt)("p",null,"Prepares sources for a new SRPM build using the content of the upstream repository.\nApplies the same as for ",(0,i.kt)("inlineCode",{parentName:"p"},"packit srpm"),", but instead of building a SRPM in the end,\nprepared sources are moved to the ",(0,i.kt)("inlineCode",{parentName:"p"},"result-dir"),"."),(0,i.kt)("h2",{id:"requirements"},"Requirements"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Upstream project is using git."),(0,i.kt)("li",{parentName:"ul"},"Packit config file placed in the upstream repository.")),(0,i.kt)("h2",{id:"help"},"Help"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"Usage: packit prepare-sources [OPTIONS] [PATH_OR_URL]\n\n  Prepare sources for a new SRPM build using content of the upstream\n  repository. Determine version, create an archive or download upstream and\n  create patches for sourcegit, fix/update the specfile to use the right\n  archive, download the remote sources. Behaviour can be customized by\n  specifying actions (post-upstream-clone, get-current-version, create-\n  archive, create-patches, fix-spec-file) in the configuration.\n\n  PATH_OR_URL argument is a local path or a URL to the upstream git\n  repository, it defaults to the current working directory\n\nOptions:\n  --result-dir DIR                Copy the sources into DIR. By default,\n                                  `prepare_sources_result` directory in the\n                                  current working directory is created.\n  --upstream-ref TEXT             Git ref of the last upstream commit in the\n                                  current branch from which packit should\n                                  generate patches (this option implies the\n                                  repository is source-git).\n  --merged-ref TEXT               Git ref used to identify correct most recent\n                                  tag.\n  --update-release / --no-update-release\n                                  Specifies whether to update Release.\n                                  Defaults to value set in configuration,\n                                  which defaults to yes.\n  --bump / --no-bump              Deprecated. Use --[no-]update-release\n                                  instead.\n  --release-suffix TEXT           Specifies release suffix. Allows to override\n                                  default generated:{current_time}.{sanitized_\n                                  current_branch}{git_desc_suffix}\n  --default-release-suffix        Allows to use default, packit-generated,\n                                  release suffix when some release_suffix is\n                                  specified in the configuration.\n  --job-config-index INTEGER      Internal option to override package config\n                                  found in the repository with job config with\n                                  given index (needed for packit service).\n  --ref TEXT                      Git reference to checkout.\n  --pr-id TEXT                    Specifies PR to checkout.\n  --merge-pr / --no-merge-pr      Specifies whether to merge PR into the base\n                                  branch in case pr-id is specified.\n  --target-branch TEXT            Specifies target branch which PR should be\n                                  merged into.\n  --create-symlinks / --no-create-symlinks\n                                  Specifies whether Packit should create\n                                  symlinks or copy the files (e.g. archive\n                                  outside specfile dir).\n  -p, --package TEXT              Package to prepare, if more than one\n                                  available, like in a monorepo configuration.\n                                  Use it multiple times to select multiple\n                                  packages.Defaults to all the packages listed\n                                  inside the config.\n  -h, --help                      Show this message and exit.\n")))}d.isMDXComponent=!0}}]);