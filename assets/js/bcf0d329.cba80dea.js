"use strict";(self.webpackChunkpackit_dev=self.webpackChunkpackit_dev||[]).push([[72328],{15680:(e,t,n)=>{n.d(t,{xA:()=>s,yg:()=>y});var r=n(96540);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var d=r.createContext({}),p=function(e){var t=r.useContext(d),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},s=function(e){var t=p(e.components);return r.createElement(d.Provider,{value:t},e.children)},m="mdxType",g={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},c=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,d=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),m=p(n),c=a,y=m["".concat(d,".").concat(c)]||m[c]||g[c]||i;return n?r.createElement(y,o(o({ref:t},s),{},{components:n})):r.createElement(y,o({ref:t},s))}));function y(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=c;var l={};for(var d in t)hasOwnProperty.call(t,d)&&(l[d]=t[d]);l.originalType=e,l[m]="string"==typeof e?e:a,o[1]=l;for(var p=2;p<i;p++)o[p]=n[p];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}c.displayName="MDXCreateElement"},88706:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>o,default:()=>g,frontMatter:()=>i,metadata:()=>l,toc:()=>p});var r=n(58168),a=(n(96540),n(15680));const i={title:"TMT Integration",sidebar_position:5},o=void 0,l={unversionedId:"tmt-integration",id:"tmt-integration",title:"TMT Integration",description:"When running tests in Fedora CI, Packit automatically provides TMT context dimensions and environment variables that you can use in your test plans to adjust behavior based on the target branch, distribution, or other factors.",source:"@site/fedora-ci/tmt-integration.md",sourceDirName:".",slug:"/tmt-integration",permalink:"/fedora-ci/tmt-integration",draft:!1,editUrl:"https://github.com/packit/packit.dev/tree/main/fedora-ci/tmt-integration.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{title:"TMT Integration",sidebar_position:5},sidebar:"autogenerated",previous:{title:"Development",permalink:"/fedora-ci/development"}},d={},p=[{value:"TMT Context Dimensions",id:"tmt-context-dimensions",level:2},{value:"Environment Variables",id:"environment-variables",level:2},{value:"KOJI_TASK_ID",id:"koji_task_id",level:3},{value:"See Also",id:"see-also",level:2}],s={toc:p},m="wrapper";function g(e){let{components:t,...n}=e;return(0,a.yg)(m,(0,r.A)({},s,n,{components:t,mdxType:"MDXLayout"}),(0,a.yg)("p",null,"When running tests in Fedora CI, Packit automatically provides TMT context dimensions and environment variables that you can use in your test plans to adjust behavior based on the target branch, distribution, or other factors."),(0,a.yg)("h2",{id:"tmt-context-dimensions"},"TMT Context Dimensions"),(0,a.yg)("p",null,"The following TMT context dimensions are automatically set by Packit for for rpminspect, rpmlint, and custom Fedora CI test jobs:"),(0,a.yg)("table",null,(0,a.yg)("thead",{parentName:"table"},(0,a.yg)("tr",{parentName:"thead"},(0,a.yg)("th",{parentName:"tr",align:null},"Context"),(0,a.yg)("th",{parentName:"tr",align:null},"Description"),(0,a.yg)("th",{parentName:"tr",align:null},"Example Values"))),(0,a.yg)("tbody",{parentName:"table"},(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("inlineCode",{parentName:"td"},"arch")),(0,a.yg)("td",{parentName:"tr",align:null},"Processor architecture"),(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("inlineCode",{parentName:"td"},"x86_64"))),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("inlineCode",{parentName:"td"},"distro")),(0,a.yg)("td",{parentName:"tr",align:null},"Distribution/compose being tested"),(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("inlineCode",{parentName:"td"},"centos-stream-9"),", ",(0,a.yg)("inlineCode",{parentName:"td"},"centos-stream-10"))),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("inlineCode",{parentName:"td"},"dist-git-branch")),(0,a.yg)("td",{parentName:"tr",align:null},"Target branch of the dist-git PR"),(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("inlineCode",{parentName:"td"},"rawhide"),", ",(0,a.yg)("inlineCode",{parentName:"td"},"f41"),", ",(0,a.yg)("inlineCode",{parentName:"td"},"f40"),", ",(0,a.yg)("inlineCode",{parentName:"td"},"epel-9"),", ",(0,a.yg)("inlineCode",{parentName:"td"},"epel-10.1"))),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("inlineCode",{parentName:"td"},"initiator")),(0,a.yg)("td",{parentName:"tr",align:null},"Who triggered the test"),(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("inlineCode",{parentName:"td"},"fedora-ci"))),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("inlineCode",{parentName:"td"},"trigger")),(0,a.yg)("td",{parentName:"tr",align:null},"Event type that triggered the test"),(0,a.yg)("td",{parentName:"tr",align:null},(0,a.yg)("inlineCode",{parentName:"td"},"commit"))))),(0,a.yg)("admonition",{type:"tip"},(0,a.yg)("p",{parentName:"admonition"},"You can differentiate between Fedora CI and Packit upstream test jobs with the ",(0,a.yg)("inlineCode",{parentName:"p"},"initiator")," context dimension (",(0,a.yg)("inlineCode",{parentName:"p"},"packit")," for upstream Packit).")),(0,a.yg)("h2",{id:"environment-variables"},"Environment Variables"),(0,a.yg)("h3",{id:"koji_task_id"},"KOJI_TASK_ID"),(0,a.yg)("p",null,"The Koji task ID for the scratch build created for this dist-git PR (e.g., ",(0,a.yg)("inlineCode",{parentName:"p"},"123014869"),")."),(0,a.yg)("h2",{id:"see-also"},"See Also"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("a",{parentName:"li",href:"https://tmt.readthedocs.io/en/stable/spec/context.html"},"TMT Context Documentation")),(0,a.yg)("li",{parentName:"ul"},(0,a.yg)("a",{parentName:"li",href:"https://docs.testing-farm.io/"},"Testing Farm Documentation"))))}g.isMDXComponent=!0}}]);