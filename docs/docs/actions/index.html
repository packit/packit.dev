<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.55.6" />
    <meta name="description" content="">


    <link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />

    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-143669536-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

    <title>Actions :: Packit</title>

    
    <link href="/css/nucleus.css?1563199770" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1563199770" rel="stylesheet">
    <link href="/css/hybrid.css?1563199770" rel="stylesheet">
    <link href="/css/featherlight.min.css?1563199770" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1563199770" rel="stylesheet">
    <link href="/css/auto-complete.css?1563199770" rel="stylesheet">
    <link href="/css/atom-one-dark-reasonable.css?1563199770" rel="stylesheet">
    <link href="/css/theme.css?1563199770" rel="stylesheet">
    <link href="/css/hugo-theme.css?1563199770" rel="stylesheet">
    
      <link href="/css/theme-red.css?1563199770" rel="stylesheet">
    

    <script src="/js/jquery-3.3.1.min.js?1563199770"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
        :not(pre) > code + span.copy-to-clipboard {
            display: none;
        }
      
    </style>
    
  </head>
  <body class="" data-url="/docs/actions/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a href="/"><img src="/packit_logo.png"></a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1563199770"></script>
<script type="text/javascript" src="/js/auto-complete.js?1563199770"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/packit.dev\/";
    
</script>
<script type="text/javascript" src="/js/search.js?1563199770"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          


 
  
    
    <li data-nav-id="/docs/" title="Documentation" class="dd-item 
        parent
        
        
        ">
      <a href="/docs/">
          Documentation
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/docs/actions/" title="Actions" class="dd-item active">
        <a href="/docs/actions/">
        Actions
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/architecture/" title="Architecture" class="dd-item ">
        <a href="/docs/architecture/">
        Architecture
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/configuration/" title="Configuration for packit" class="dd-item ">
        <a href="/docs/configuration/">
        Configuration for packit
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/how-to-source-git/" title="How to source-git?" class="dd-item ">
        <a href="/docs/how-to-source-git/">
        How to source-git?
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/docs/cli/" title="Packit CLI Commands" class="dd-item 
        
        
        
        ">
      <a href="/docs/cli/">
          Packit CLI Commands
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/docs/cli/build/" title="build" class="dd-item ">
        <a href="/docs/cli/build/">
        build
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/cli/create-bodhi-update/" title="create-bodhi-update" class="dd-item ">
        <a href="/docs/cli/create-bodhi-update/">
        create-bodhi-update
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/cli/propose-update/" title="propose-update" class="dd-item ">
        <a href="/docs/cli/propose-update/">
        propose-update
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/cli/srpm/" title="srpm" class="dd-item ">
        <a href="/docs/cli/srpm/">
        srpm
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/docs/cli/sync-from-downstream/" title="sync-from-downstream" class="dd-item ">
        <a href="/docs/cli/sync-from-downstream/">
        sync-from-downstream
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/posts/" title="Blog Posts" class="dd-item 
        
        
        
        ">
      <a href="/posts/">
          Blog Posts
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/posts/packit-010/" title="Initial version (0.1.0) of packit is out!" class="dd-item ">
        <a href="/posts/packit-010/">
        Initial version (0.1.0) of packit is out!
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/posts/packit-020/" title="Packit 0.2.0 is here!" class="dd-item ">
        <a href="/posts/packit-020/">
        Packit 0.2.0 is here!
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/posts/packit-030/" title="Packit 0.3.0" class="dd-item ">
        <a href="/posts/packit-030/">
        Packit 0.3.0
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/posts/packit-041/" title="Packit 0.4.0 &amp; 0.4.1" class="dd-item ">
        <a href="/posts/packit-041/">
        Packit 0.4.0 &amp; 0.4.1
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/posts/packit-042/" title="Packit 0.4.2" class="dd-item ">
        <a href="/posts/packit-042/">
        Packit 0.4.2
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/packit-as-a-service/" title="Packit-as-a-Service" class="dd-item 
        
        
        
        ">
      <a href="/packit-as-a-service/">
          Packit-as-a-Service
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/source-git/" title="Source-git" class="dd-item 
        
        
        
        ">
      <a href="/source-git/">
          Source-git
          
      </a>
      
              
    </li>
  
 

          
         
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li> 
                  <a class="padding" href="https://github.com/packit-service/packit"><i class='fab fa-fw fa-github'></i> GitHub repo</a>
              </li>
          
              <li> 
                  <a class="padding" href="https://github.com/apps/packit-as-a-service"><i class='fab fa-fw fa-github'></i> Packit-as-a-Service GitHub app</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="https://getgrav.org">Grav</a> and <a href="https://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>





        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/'>About</a> > <a href='/docs/'>Documentation</a> > Actions
          
         
          
         
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
<ul>
<li>
<ul>
<li>
<ul>
<li><a href="#propose-update">propose-update</a></li>
<li><a href="#srpm">srpm</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Actions
            </h1>
          

        





<p>You can probably find yourself in a situation where some part of the packit workflow needs to be
tweaked for your package.</p>

<p>Packit supports some actions, that can be defined in the configuration file.
The part of the default behaviour is then skipped, and the configured command is called instead.
Packit is able to execute more commands. Each action can accept list of commands.</p>

<p>There are also some hooks presented &ndash; it works as an action without any default behaviour.</p>

<p>Currently, there are the following actions that you can use:</p>

<h3 id="propose-update">propose-update</h3>

<table>
<thead>
<tr>
<th></th>
<th>name</th>
<th>working directory</th>
<th>when run</th>
<th>description</th>
</tr>
</thead>

<tbody>
<tr>
<td>[hook]</td>
<td><code>post-upstream-clone</code></td>
<td>upstream git repo</td>
<td>after cloning of the upstream-repo (master) and before other operation</td>
<td></td>
</tr>

<tr>
<td>[hook]</td>
<td><code>pre-sync</code></td>
<td>upstream git repo</td>
<td>after cloning of the upstream-repo and checkout to the right (release) branch</td>
<td></td>
</tr>

<tr>
<td></td>
<td><code>prepare-files</code></td>
<td>upstream git repo</td>
<td>after clone and checkout of upstream and dist-git repo</td>
<td>replace patching and archive generation</td>
</tr>

<tr>
<td></td>
<td><code>create-patches</code></td>
<td>upstream git repo</td>
<td>after sync of upstream files to the downstream</td>
<td>replace patching</td>
</tr>

<tr>
<td></td>
<td><code>create-archive</code></td>
<td>upstream git repo</td>
<td>when the archive needs to be created</td>
<td>replace the code for creating an archive</td>
</tr>

<tr>
<td></td>
<td><code>get-current-version</code></td>
<td>upstream git repo</td>
<td>when the current version needs to be found</td>
<td>expect version as a stdout</td>
</tr>
</tbody>
</table>

<h3 id="srpm">srpm</h3>

<table>
<thead>
<tr>
<th></th>
<th>name</th>
<th>working directory</th>
<th>when run</th>
<th>description</th>
</tr>
</thead>

<tbody>
<tr>
<td>[hook]</td>
<td><code>post-upstream-clone</code></td>
<td>upstream git repo</td>
<td>after cloning of the upstream-repo (master) and before other operation</td>
<td></td>
</tr>

<tr>
<td></td>
<td><code>get-current-version</code></td>
<td>upstream git repo</td>
<td>when the current version needs to be found</td>
<td>expect version as a stdout</td>
</tr>

<tr>
<td></td>
<td><code>create-archive</code></td>
<td>upstream git repo</td>
<td>when the archive needs to be created</td>
<td>replace the code for creating an archive</td>
</tr>

<tr>
<td></td>
<td><code>create-patches</code></td>
<td>upstream git repo</td>
<td>after sync of upstream files to the downstream</td>
<td>replace patching</td>
</tr>
</tbody>
</table>

<hr />

<p>In your package config they can be defined like this:</p>

<pre><code class="language-yaml">specfile_path: package.spec
synced_files:
  - packit.yaml
  - package.spec
upstream_project_name: package
downstream_package_name: package
dist_git_url: https://src.fedoraproject.org/rpms/package.git
actions:
  prepare-files: &quot;make prepare&quot;
  create-archive:
  - &quot;make archive&quot;
  - &quot;ls&quot;
</code></pre>


<footer class=" footline" >
	
</footer>


        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="/docs/" title="Documentation"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/docs/architecture/" title="Architecture" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1563199770"></script>
    <script src="/js/perfect-scrollbar.min.js?1563199770"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1563199770"></script>
    <script src="/js/jquery.sticky.js?1563199770"></script>
    <script src="/js/featherlight.min.js?1563199770"></script>
    <script src="/js/html5shiv-printshiv.min.js?1563199770"></script>
    <script src="/js/highlight.pack.js?1563199770"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1563199770"></script>
    <script src="/js/learn.js?1563199770"></script>
    <script src="/js/hugo-learn.js?1563199770"></script>

    <link href="/mermaid/mermaid.css?1563199770" rel="stylesheet" />
    <script src="/mermaid/mermaid.js?1563199770"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    

  </body>
</html>

