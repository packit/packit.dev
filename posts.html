<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-list-page plugin-blog plugin-id-posts">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Blog | Packit</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://packit.dev/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://packit.dev/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://packit.dev/posts"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:title" content="Blog | Packit"><meta data-rh="true" name="description" content="Blog"><meta data-rh="true" property="og:description" content="Blog"><meta data-rh="true" name="docusaurus_tag" content="blog_posts_list"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_posts_list"><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://packit.dev/posts"><link data-rh="true" rel="alternate" href="https://packit.dev/posts" hreflang="en"><link data-rh="true" rel="alternate" href="https://packit.dev/posts" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://STHKG8EYKZ-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Packit" href="/opensearch.xml">







<link rel="alternate" type="application/rss+xml" href="/posts/rss.xml" title="Packit Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/posts/atom.xml" title="Packit Blog Atom Feed">
<link rel="alternate" type="application/json" href="/posts/feed.json" title="Packit Blog JSON Feed">
<link rel="alternate" type="application/rss+xml" href="/posts/weekly/rss.xml" title="Packit Weekly RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/posts/weekly/atom.xml" title="Packit Weekly Atom Feed">
<link rel="alternate" type="application/json" href="/posts/weekly/feed.json" title="Packit Weekly JSON Feed"><link rel="stylesheet" href="/assets/css/styles.3595ad89.css">
<link rel="preload" href="/assets/js/runtime~main.4766467a.js" as="script">
<link rel="preload" href="/assets/js/main.3db5e8cf.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="Packit Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.png" alt="Packit Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Packit</b></a><a class="navbar__item navbar__link" href="/docs">Documentation</a><a class="navbar__item navbar__link" href="/source-git">Source-git</a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/development">Development</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/deployment">Deployment</a></li><li><a class="dropdown__link" href="/research">Research</a></li><li><a class="dropdown__link" href="/agile">Agile</a></li><li><a class="dropdown__link" href="/specfile">specfile library</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/posts">Blog Posts</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/posts/weekly">Weekly Updates</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="https://dashboard.packit.dev" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Dashboard<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://status.packit.dev/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Status<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/packit" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/posts/changelogs">Do you like your changelogs? What DevConf.CZ attendees think</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/posts/devconf-2024">DevConf.CZ 2024 and week around for Packit</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/posts/aws-and-image-builder">Customize AWS cloud images with Image Builder and Packit</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/posts/specfile-introduction">Introduction to specfile library</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/posts/experiences_with_rust">Experiences using Packit for a Rust executable Project</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/posts/changelogs">Do you like your changelogs? What DevConf.CZ attendees think</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2024-07-01T00:00:00.000Z" itemprop="datePublished">July 1, 2024</time> Â· <!-- -->9 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/lachmanfrantisek" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/lachmanfrantisek.png" alt="FrantiÅ¡ek Lachman"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/lachmanfrantisek" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">FrantiÅ¡ek Lachman</span></a></div></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/lbarcziova" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/lbarcziova.png" alt="Laura BarcziovÃ¡"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/lbarcziova" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Laura BarcziovÃ¡</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>Last month, we had the pleasure of engaging with a dynamic audience during our interactive talk on changelogs at the i<a href="https://www.devconf.info/cz/" target="_blank" rel="noopener noreferrer">DevConf</a> in Brno, Czech Republic. In case you missed it, you can watch the recording <a href="https://youtu.be/TSifrKWNQT0?si=kRlu7PcQZwSwpy0R" target="_blank" rel="noopener noreferrer">here</a>. Throughout the session, we explored various aspects of changelog usage, including their content, format, and the potential for automation. By asking a series of questions to the attendees, we gathered insights and opinions that highlighted both common practices and divergent viewpoints within the community. In this follow-up article, we aim to summarise the key findings from our discussion, analyse the trends and preferences that emerged, and offer our reflections on the role of changelogs in software development.</p><p><img loading="lazy" alt="foto from the conference 1" src="/assets/images/devconf_changelogs1-eff1b9245492904ddb031a20f181f890.jpg" width="1625" height="1083" class="img_ev3q">
<img loading="lazy" alt="foto from the conference 2" src="/assets/images/devconf_changelogs2-7aedea2abc34a2ce6316feb21a428277.jpg" width="1625" height="1083" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="content">Content<a href="#content" class="hash-link" aria-label="Direct link to Content" title="Direct link to Content">â</a></h2><p>One of the first questions we posed to our audience during the talk was, <em>&quot;What do you, as a user, like to see in changelogs?&quot;</em> The most popular elements that the audience showed to like to see in changelogs were <em>breaking changes</em> and <em>new features</em>. Interest in breaking changes indicates that users prioritise being informed about changes that might disrupt their current setup or workflow. As for the features, this shows a strong interest in understanding the latest enhancements and functionalities added to the software. Users appreciate knowing what new capabilities they can leverage. On a similar note, the information about deprecated functionality is also highly valuable for the audience. This can help users plan migrations and avoid using obsolete features. The audience also expressed a clear desire to understand the purpose and context of a new release. Responses such as <em>&quot;why&quot;</em>, <em>&quot;purpose&quot;</em>, <em>&quot;reasons&quot;</em>, <em>&quot;relations&quot;</em>, and <em>&quot;changes motivation&quot;</em> highlight this need. Understanding the rationale behind changes helps users comprehend the development trajectory and decision-making process. Another interesting response was the desire to know <em>&quot;am I affected&quot;</em>, indicating that users primarily care about whether they need to take action or can safely ignore the update. There was also a response <em>&quot;not a copy of commit msgs&quot;</em>. But we will get into that laterâ¦</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="formats">Formats<a href="#formats" class="hash-link" aria-label="Direct link to Formats" title="Direct link to Formats">â</a></h2><p>The question that followed was, <em>&quot;What format do you prefer for changelogs?&quot;</em> The most popular format by far was <em>Markdown</em>. Its simplicity, readability, and widespread use in the developer community make it highly appealing. Markdown&#x27;s flexibility in formatting and ease of conversion to other formats also contribute to its popularity. This preference may also indicate its frequent use in blog posts or other articles, as Markdown can be easily rendered.</p><p><em>Plain text</em> files were also a prominent choice. We assume this could be for their simplicity and universal compatibility, making them accessible across various platforms and tools.</p><p>Other notable formats included <em>ReStructuredText</em>, <em>LaTeX</em>, <em>YAML</em>, and <em>blog posts</em>. These formats cater to specific needs, such as enhanced formatting capabilities, structured data representation, or providing more detailed explanations and context. Several unique and creative preferences also emerged, such as <em>Asciidoc</em>, <em>email</em>, and <em>PDFs</em>. This variety of preferences highlights that the needs of different projects and their users vary significantly.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="tools">Tools<a href="#tools" class="hash-link" aria-label="Direct link to Tools" title="Direct link to Tools">â</a></h2><p>Following the format, weâve tried to collect tooling (if any) used by the audience to help with the changelog management. People mentioned various text editors, IDEs and of course, <em>chatgpt</em>/<em>ai</em>. But letâs take a look at one specific tool worth sharing:</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="towncrier">towncrier<a href="#towncrier" class="hash-link" aria-label="Direct link to towncrier" title="Direct link to towncrier">â</a></h3><p>From <a href="https://towncrier.readthedocs.io/en/stable/index.html" target="_blank" rel="noopener noreferrer">the projectâs homepage</a>, <em>towncrier delivers the news which is convenient to those that hear it, not those that write it.</em> During a development, <em>&quot;news fragments&quot;</em> (~text files) are created and when there is a new release, one can merge those together. Being user-centric and storing the fragments in git (and being able to review) makes it a really interesting choice worth exploring. Sadly, the pre-commit hooks canât remind you that youâve forgotten to add a new <em>news fragment</em>. Luckily, there is help in the form of a <a href="https://github.com/sanitizers/chronographer-github-app" target="_blank" rel="noopener noreferrer">Chronographer GitHub application</a> created by <a href="https://github.com/webknjaz" target="_blank" rel="noopener noreferrer">Sviatoslav Sydorenko (@webknjaz)</a> (who was by coincidence also present at the talk)</p><p>Quite interestingly, 11% of the responders mentioned that no automation is used â there is an opportunity for improvement! (But to be fair, it can also mean that someone from the projects wants to prepare something really useful and do this all by hand.)</p><p>There were also some tools like <em>coffee</em>, <em>potato</em>, <em>postal pigeons</em> or <em>beer</em> that we werenât able to find documentation for. If you find these, let us know so we can add some links...;-)</p><p>There were also various git-based solutions suggested which leads us to the next question:</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="automation-based-on-commit-messages">Automation based on commit messages<a href="#automation-based-on-commit-messages" class="hash-link" aria-label="Direct link to Automation based on commit messages" title="Direct link to Automation based on commit messages">â</a></h2><p>This is a tricky one, right? It might seem like an obvious choice of getting the input for our changelogs. Butâ¦ yes, there is a âbutâ. There are two main reasons why one wants to avoid using commit messages for this:</p><ul><li>Commit messages are meant to be read by developers.</li><li>Commit itself represents a change meaningful for developers, not users.</li></ul><p>Based on these observations, we came up with the following rules in our team (and talk attendees mentioned the same):</p><ul><li>The content of the changelog should be created for users, not developers.</li><li>Changelog should be created for the user-focused level of change =&gt; in our case, pull-request.</li><li>Changelog should be created by the author of the change when the change is being developed.</li></ul><p>Of course, one can still use commits for this, but we donât think itâs a good idea to have two goals for one text. If you really want to go this way, there is a <a href="https://www.conventionalcommits.org/" target="_blank" rel="noopener noreferrer">Conventional Commits project</a>. If nothing else, it can bring more attention to the commit messages and provide well-defined rules for the project contributors. (Talk attendees also mentioned git-cliff as a changelog generator for <em>Conventional Commits</em>.) You can also use this format independently to user-facing changelog. (Or, maybe as a base info for a human creating the changelog.) To mention also other responses, there were various git-log based solutions mentioned including the functionality provided directly by git-forges.</p><p><img loading="lazy" alt="Conventional Commits: search for a user (nothing found)" src="/assets/images/conventional_commits-35ef8be2b4387f5212676cac467c6af2.png" width="1333" height="425" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="packit-blog-post-generator">Packit blog-post generator<a href="#packit-blog-post-generator" class="hash-link" aria-label="Direct link to Packit blog-post generator" title="Direct link to Packit blog-post generator">â</a></h2><p>As a follow-up to the previous questions, weâve shown a solution we use in Packit. We researched and tried various solutions but this is what finally works for us:</p><ol><li>When submitting a pull-request, you put your changelog into a pull-request description.</li></ol><p><img loading="lazy" alt="Packit workflow 1: pull-request" src="/assets/images/packit_workflow1-35f10086cac60a86bcbb4a80d9addd3f.png" width="1103" height="648" class="img_ev3q"></p><ol start="2"><li><p>If you forget, a GitHub action will mark the PR red to remind you. (You can also put âN/Aâ if there is no user-facing change and the PR should be skipped for this check.)</p></li><li><p>There is a GitHub action that we manually trigger when a new release should be prepared â as a result, new pull request is created with the aggregated changelog and version being updated.
When this pull request is merged, the content of the changelog is also put into GitHub release description and from that taken when preparing downstream (i.e. Fedora) updates</p></li></ol><p><img loading="lazy" alt="Packit workflow 2: Manual triggering of Github workflow that prepares the changelog" src="/assets/images/packit_workflow2-8bf805ef977f91ba63dcf92ef71715b4.png" width="1219" height="539" class="img_ev3q">
<img loading="lazy" alt="Packit workflow 3: Content of the pull request created by the workflow" src="/assets/images/packit_workflow3-7beb93a0fe0d14db1816c880e0bc802b.png" width="1596" height="326" class="img_ev3q">
<img loading="lazy" alt="Packit workflow 4: Published release with the changelog from the pull request" src="/assets/images/packit_workflow4-c0745cfcdcae87a4c5c7132b9926ff74.png" width="1476" height="555" class="img_ev3q"></p><ol start="4"><li>In Packit, most of our users do not install our packages manually but use our service. When doing a new deployment (by moving stable branches in our repositories), we collect the code snippets and prepare an update post that is published on our project page.</li></ol><p><img loading="lazy" alt="Packit workflow 5: Published blog post with changelog from the pull request" src="/assets/images/packit_workflow5-dddf27668b755420ae946f0459e0f3e6.png" width="1149" height="555" class="img_ev3q"></p><p>Important bit is that in both ways the changelog snippets are used, there is a review in place. So, you can still revisit the text, combine more entries together or remove if this is not relevant to the user after all.</p><p>You can, but donât need to use the same, but try to think about this, have a discussion within a team. The discussion itself can help you think more about your users.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="nice-changelog-examples">Nice changelog examples<a href="#nice-changelog-examples" class="hash-link" aria-label="Direct link to Nice changelog examples" title="Direct link to Nice changelog examples">â</a></h2><p>Thanks to our fellow attendees, we can share some examples to be inspired by:</p><ul><li><a href="https://github.com/signalapp/Signal-Desktop/releases" target="_blank" rel="noopener noreferrer">https://github.com/signalapp/Signal-Desktop/releases</a></li><li><a href="https://github.com/packit/packit/blob/main/CHANGELOG.md" target="_blank" rel="noopener noreferrer">https://github.com/packit/packit/blob/main/CHANGELOG.md</a> (This wasnât us who suggested this...;)</li><li><a href="https://yarl.aio-libs.org/en/latest/changes/" target="_blank" rel="noopener noreferrer">https://yarl.aio-libs.org/en/latest/changes/</a></li><li><a href="https://github.com/systemd/systemd/releases" target="_blank" rel="noopener noreferrer">https://github.com/systemd/systemd/releases</a></li><li><a href="https://getgrav.org/#changelog" target="_blank" rel="noopener noreferrer">https://getgrav.org/#changelog</a> (Nice visualisation!)</li><li><a href="https://cockpit-project.org/blog" target="_blank" rel="noopener noreferrer">https://cockpit-project.org/blog</a> (Yes, blog posts can be used as well!)</li><li><a href="https://docs.djangoproject.com/en/5.0/releases/5.0/" target="_blank" rel="noopener noreferrer">https://docs.djangoproject.com/en/5.0/releases/5.0/</a></li><li><a href="https://github.com/ClusterLabs/pcs/blob/main/CHANGELOG.md" target="_blank" rel="noopener noreferrer">https://github.com/ClusterLabs/pcs/blob/main/CHANGELOG.md</a></li><li><a href="https://qgis.org/en/site/forusers/visualchangelogs.html" target="_blank" rel="noopener noreferrer">https://qgis.org/en/site/forusers/visualchangelogs.html</a> (Visual changelogs!)</li><li><a href="https://github.com/ksh93/ksh/releases" target="_blank" rel="noopener noreferrer">https://github.com/ksh93/ksh/releases</a></li><li><a href="https://github.com/Hypfer/Valetudo/releases" target="_blank" rel="noopener noreferrer">https://github.com/Hypfer/Valetudo/releases</a> (screenshots, breaking changes, personal opinions,...)</li><li><a href="https://www.home-assistant.io/blog/categories/release-notes/" target="_blank" rel="noopener noreferrer">https://www.home-assistant.io/blog/categories/release-notes/</a> (screenshots, a lot of screenshots, deprecations, new plugins,..)</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="space-for-improvement">Space for improvement?<a href="#space-for-improvement" class="hash-link" aria-label="Direct link to Space for improvement?" title="Direct link to Space for improvement?">â</a></h2><p>In addition to preferences, we also sought feedback on potential improvements for managing changelogs. The responses highlighted several key areas where the audience sees opportunities for enhancement:</p><ul><li><strong>AI:</strong> A significant number of responses emphasized the need for AI integration in changelog management, specifically using generative AI for writing changelogs was mentioned.</li><li><strong>Standardization and consistency:</strong> Several responses called for standardizing the format and content of changelogs. Consistency in how changelogs are written and maintained can improve readability and usability. Specific suggestions included using templates and setting ground rules, such as always including issue IDs in commits.</li><li><strong>Automation and integration with development tools:</strong> Improving the automation tools and Integrating changelog generation with existing development tools and CI/CD pipelines was another common suggestion. This could streamline the process, ensuring that changelogs are automatically updated and maintained as part of the development workflow.</li><li><strong>Improving quality:</strong> Improving the quality of changelog messages was a recurring theme. Responses suggested focusing on clear, concise, and meaningful wording and also highlighted the need for changelogs to be more user-oriented rather than developer-centric.</li></ul><p>Several responses addressed specific needs, such as differentiating upstream and downstream changelogs, supporting all CI systems, and referencing the tickets associated with changes. Additionally, there were responses emphasizing the importance of keeping changelogs simple and easy to understand.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">â</a></h2><p>And now what?</p><p>What you can do now? Improve changelog in your project. Get involved in the project you like and help with the changelogs. Read the changelos.</p><p>What we can do together? Letâs collaborate on the tools and share good practices!</p><p>And what about the standardisation? Letâs create a new standard! <a href="https://xkcd.com/927/" target="_blank" rel="noopener noreferrer">https://xkcd.com/927/</a></p><p>With that, letâs quote a response from one of our attendees:
<em>&quot;Many more people read the changelog than write it, so it&#x27;s worth it to put in the effort.&quot;</em></p><hr><p>This post was also posted at <a href="https://medium.com/@laura.barcziova/do-you-like-your-changelogs-what-devconf-cz-attendees-think-771f51a4e3b0" target="_blank" rel="noopener noreferrer">medium.com</a>.</p></div><footer class="row docusaurus-mt-lg"></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/posts/devconf-2024">DevConf.CZ 2024 and week around for Packit</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2024-07-01T00:00:00.000Z" itemprop="datePublished">July 1, 2024</time> Â· <!-- -->5 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/lachmanfrantisek" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/lachmanfrantisek.png" alt="FrantiÅ¡ek Lachman"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/lachmanfrantisek" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">FrantiÅ¡ek Lachman</span></a></div></div></div></div><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/lbarcziova" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/lbarcziova.png" alt="Laura BarcziovÃ¡"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/lbarcziova" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Laura BarcziovÃ¡</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>The first part of June is usually quite busy for our team. Why? The last couple of years, this has been a time of <a href="https://devconf.cz/" target="_blank" rel="noopener noreferrer">DevConf.CZ conference</a>. (The unpredictable January had been changed into a more pleasant June.)
Even though the conference itself is important, itâs used as an opportunity for various people from around the globe to come to Brno and thanks to that, a lot is happening also during the days around.
For the Packit team, itâs a nice opportunity to have the whole team together in one place â we can do some fun teambuilding (like canoeing this year) but also discuss any technical topics or meet our users and realise how are the real people behind all the nicknames. This time we also prepared something for them:</p><p><img loading="lazy" alt="Packit team at DevConf.CZ" src="/assets/images/team_at_devconf-afb9591ce65a7eec16d0cd6b938dc91f.jpg" width="1625" height="1083" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="packit-workshop">Packit workshop<a href="#packit-workshop" class="hash-link" aria-label="Direct link to Packit workshop" title="Direct link to Packit workshop">â</a></h2><p>Before DevConf, we recognized a unique opportunity: numerous users and potential users of Packit would be visiting Brno for the conference. Therefore, we decided to organise an in-person workshop with a main focus on our release automation. We had previously organised multiple online runs, for which you can find the materials <a href="https://packit.dev/docs/workshops-materials" target="_blank" rel="noopener noreferrer">here</a>, so we were mostly prepared. This initiative brought both Red Hatters and non-Red Hatters, resulting in a rich exchange of ideas and great feedback. In the end, the workshop served not only for learning about our release automation but also about the CI capabilities of Packit in upstream.</p><p>During the workshop, several key areas of interest emerged:
Building in Sidetags - There was significant interest in building in sidetags. Participants provided valuable feedback on the workflow and configuration that Nikola Forro is currently developing, see <a href="https://github.com/packit/packit/issues/1870" target="_blank" rel="noopener noreferrer">the GitHub issue</a>. One of the discussion points was the automatic resolution of dependencies as the next step for the current static configuration.
Common specfile manipulation tasks - Participants expressed a need for ways to handle common specfile manipulation tasks, which could be utilised in <a href="https://packit.dev/docs/configuration/actions" target="_blank" rel="noopener noreferrer">Packit&#x27;s actions</a> or for debugging purposes. Specific use cases included removing source/patch ranges for Copr builds, replacing sources within specfiles or getting and setting specfile versions. Our <a href="https://github.com/packit/specfile" target="_blank" rel="noopener noreferrer">specfile library</a> already covers some of these, but besides that, also other alternative solutions were proposed, such as creating a CLI specifically for handling these tasks or adding Packit subcommands to facilitate these operations.</p><p>Besides those, in relation to the release automation, some existing issues were brought up, such as the <a href="https://github.com/packit/packit/issues/1724" target="_blank" rel="noopener noreferrer">one</a> about Packit to not create divergent branches when syncing release. Additionally, a bug/inconsistency was directly addressed and fixed during the workshop, see <a href="https://github.com/packit/packit/pull/2327" target="_blank" rel="noopener noreferrer">https://github.com/packit/packit/pull/2327</a> .</p><p>Overall, the workshop was a success and we are happy for our great users for coming! The gained insights will definitely influence the ongoing development and improvement of Packit. We celebrated the successful workshop with a nice lunch together with the participants.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="packit-members-talks">Packit members talks<a href="#packit-members-talks" class="hash-link" aria-label="Direct link to Packit members talks" title="Direct link to Packit members talks">â</a></h2><p>Of all the various proposals prepared by our team (and there as a lot!), 3 were accepted and we were able to show some interesting topics to the audience.</p><p>The first session was an interactive on hold by Laura and FrantiÅ¡ek about changelogs â we used a Mentimer platform to be able to interact with the audience. We could not only collect information what people are interested to see in changelogs or what tooling do they use, but also showed charts from the research Laura made as part of here diploma thesis the last year. As part of the session, we were able to show the changelog automation we use in Packit. There is also <a href="https://packit.dev/posts/changelogs" target="_blank" rel="noopener noreferrer">a blog post</a> covering the talk and all the interesting findings.</p><p>For the next session, FrantiÅ¡ek took a bunch of happy (of course..) Packit users and organised a user showcase. In just half an hour 8 people went to stage and provided an introduction to Packit, tmt, Testing Farm and showed 4 interesting usecases. Recording can be found <a href="https://www.youtube.com/watch?v=7n8pypmrQh4" target="_blank" rel="noopener noreferrer">here</a>. Interestingly, the two of the usecases overlayed â Cockpit has introduced their tests-cases into their dependencies to realise issues soon and one of such dependencies is Podman. Both Podman and Cockpit was presented on the stage.</p><p>During the third session, Laura and TomÃ¡Å¡ showed our journey to team role rotation and how we do this these days. They used Mentimer as well as for the changelog one so it was a great fun. Missed it? No worries, there is no only a <a href="https://www.youtube.com/watch?v=y1t7Wd31bL8" target="_blank" rel="noopener noreferrer">recording</a>, but also <a href="https://packit.dev/agile/weekly-roles" target="_blank" rel="noopener noreferrer">a blog-post serie</a> covering this topic. <a href="https://medium.com/@laura.barcziova/role-rotation-tutorial-957ed3545ef2" target="_blank" rel="noopener noreferrer">The last part</a> helps you do the same, and as usual, we have this automatedâ¦</p><p><img loading="lazy" alt="Laura and TomÃ¡Å¡ presenting" src="/assets/images/laura_and_tomas_presenting-6ab4883c30d4bd9790065a7d139b388f.jpg" width="1625" height="1083" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="talks-related-to-packit">Talks related to Packit<a href="#talks-related-to-packit" class="hash-link" aria-label="Direct link to Talks related to Packit" title="Direct link to Talks related to Packit">â</a></h2><p>Even though some of our talk proposals were not accepted this year, our users represented us very well. In addition to the previously mentioned user showcase), there were two other dedicated talks by Packit users:</p><ul><li><strong>Shifting Left in Podman with Copr, Packit, and TMT</strong> - In this talk, Mohan Boddu described how they utilise Packit, Copr, and TMT to shift their testing setup and test early in the process. This talk also included a short live demo. (<a href="https://pretalx.com/devconf-cz-2024/talk/WVNJZS/" target="_blank" rel="noopener noreferrer">https://pretalx.com/devconf-cz-2024/talk/WVNJZS/</a>)</li><li><strong>Upstream Cross-Project Testing: Never Break Your API Consumers</strong> - In this talk, Martin Pitt from the Cockpit team described the use case of reverse dependency testing (<a href="https://packit.dev/docs/cross-project-testing" target="_blank" rel="noopener noreferrer">https://packit.dev/docs/cross-project-testing</a>) using Packit. (<a href="https://pretalx.com/devconf-cz-2024/talk/KDZZES/" target="_blank" rel="noopener noreferrer">https://pretalx.com/devconf-cz-2024/talk/KDZZES/</a>)</li></ul><p>Additionally, Siteshwar Vashisht presented about OpenScanHub, a service for static analysis of Linux distributions, where he also mentioned Packit and <a href="https://github.com/packit/packit-service/issues/2107" target="_blank" rel="noopener noreferrer">our plans</a> for integration (<a href="https://pretalx.com/devconf-cz-2024/talk/7C38GJ/" target="_blank" rel="noopener noreferrer">https://pretalx.com/devconf-cz-2024/talk/7C38GJ/</a>).</p><hr><p>So, that was it. A DevConf week we enjoy being part of same as enjoying it being over.</p></div><footer class="row docusaurus-mt-lg"></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/posts/aws-and-image-builder">Customize AWS cloud images with Image Builder and Packit</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2024-01-22T00:00:00.000Z" itemprop="datePublished">January 22, 2024</time> Â· <!-- -->6 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/majamassarini" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/majamassarini.png" alt="Maja Massarini"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/majamassarini" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Maja Massarini</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>Have you ever wanted to bring your pull request changes in a cloud image easily?
Curious about how easy it can be? With Packit, it can be just about commenting on your pull request with <code>/packit vm-image-build</code>.</p><p>With the above command, Packit automates all the manual steps needed to create an
RPM package with your pull request changes and asks the Image Builder to install it
inside a brand new cloud image.
Let&#x27;s have a look at the prerequisites for this.</p><h1>Join the Red Hat Developer Program</h1><p>If you don&#x27;t already have a business account you can create a
<em>Red Hat Developer account</em> at no cost <a href="https://developers.redhat.com/about" target="_blank" rel="noopener noreferrer">here</a>.</p><p>You need a subscription in order to use the
<a href="https://console.redhat.com/insights/image-builder" target="_blank" rel="noopener noreferrer">Image Builder service</a>
and launch the builded images in the <a href="https://aws.amazon.com/console/" target="_blank" rel="noopener noreferrer">AWS management console</a>.</p><h1>Prepare to upload AWS AMI images</h1><p>Before uploading an AWS AMI image, you must configure the AWS system for receiving them.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites">â</a></h3><ul><li>You must have an Access Key ID configured in the <a href="https://aws.amazon.com/iam/" target="_blank" rel="noopener noreferrer">AWS IAM account manager</a>.</li><li>You must have a writable <a href="https://docs.aws.amazon.com/AmazonS3/latest/gsg/CreatingABucket.html" target="_blank" rel="noopener noreferrer">S3 bucket</a> prepared.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="procedure">Procedure<a href="#procedure" class="hash-link" aria-label="Direct link to Procedure" title="Direct link to Procedure">â</a></h3><p>Follow <a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/composing_a_customized_rhel_system_image/creating-cloud-images-with-composer_composing-a-customized-rhel-system-image#preparing-for-uploading-aws-ami-images_creating-cloud-images-with-composer" target="_blank" rel="noopener noreferrer">these steps</a>
to satisfy the above prerequisites.</p><h1>The manual steps</h1><p>Are you wondering what are the manual steps for bringing your pull request changes
in a cloud image and why you should automate them?</p><p>There could be many ways to achieve this goal but let&#x27;s see together the closest to our
automated solution. Below you can find a summary of all the needed manual steps;
I am quite sure after reading them, you will want to automate them with Packit!</p><ul><li><p>Build an RPM package with your pull request changes through <strong>COPR</strong>, go to <a href="https://copr.fedorainfracloud.org" target="_blank" rel="noopener noreferrer">https://copr.fedorainfracloud.org</a></p><ol><li>Install <code>copr-cli</code>.</li><li>Create your account and service token.</li><li>Add your token to `~/.config/copr.</li><li>Create a new COPR project.</li><li>Start a build with your local pull request changes using <code>copr-cli</code>.</li><li><strong>WAIT for the build to finish</strong>.</li></ol></li><li><p>Create a new cloud image through the <strong>Image Builder console</strong>, go to <a href="https://console.redhat.com/insights/image-builder" target="_blank" rel="noopener noreferrer">https://console.redhat.com/insights/image-builder</a></p><ol start="7"><li>Login with your <em>Red Hat developer</em> account.</li><li>Click on the <code>Create Image</code> button, choose <em>AWS image</em> type and follow the wizard.</li><li><strong>WAIT for the build to finish</strong>.</li><li>Open the <code>Launch</code> link for the builded image.</li></ol></li><li><p>Launch and access the AWS image through the <strong>AWS management console</strong>, go to <a href="https://aws.amazon.com/console/" target="_blank" rel="noopener noreferrer">https://aws.amazon.com/console/</a></p><ol start="11"><li>The previous link will open an AWS console tab with the
<em>Launch an Instance</em> wizard preset to use the builded image.
You need to login into the <em>AWS management console</em> using an <em>AWS Account ID</em>
allowed to access the <em>AMI Image</em> you just created.</li><li>Select a <strong>Key pair</strong>, or create one if you don&#x27;t have it already,
to be able to ssh the image later.</li><li>Click on <code>Launch Instance</code></li><li>Connect to instance using an ssh client</li><li>Add the previously created COPR repo to the list of available dnf repositories.</li><li>Install the package you have created at step number 4.</li><li>Now you are ready to test your code in a real cloud image.</li></ol></li></ul><p>For every new pull request you want to test directly in a cloud image you have to repeat
steps 4-16 or automate them through Packit!</p><h1>Automate the steps</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="install-packit">Install Packit<a href="#install-packit" class="hash-link" aria-label="Direct link to Install Packit" title="Direct link to Install Packit">â</a></h2><p>Installing Packit is pretty straightforward.</p><ol><li>Create a valid <a href="https://fedoraproject.org/wiki/Account_System" target="_blank" rel="noopener noreferrer">Fedora Account System (FAS)</a>
account (if you don&#x27;t already have one).
Why do you need it? After these few steps you will start building (and potentially shipping)
Fedora packages through the <a href="https://copr.fedorainfracloud.org/" target="_blank" rel="noopener noreferrer">COPR service</a> and we need you to agree with the Fedora license.</li><li>Install our GitHub application on <a href="https://github.com/marketplace/packit-as-a-service" target="_blank" rel="noopener noreferrer">GitHub Marketplace</a>,
or <a href="https://packit.dev/docs/guide/#how-to-set-up-packit-on-gitlab" target="_blank" rel="noopener noreferrer">configure a webhook</a> on GitLab
(depending on where your project lives).</li><li>Make Packit <a href="https://packit.dev/docs/guide/#2-approval" target="_blank" rel="noopener noreferrer">approve your FAS username</a>;
on Github the approval process is automated and for Gitlab you have to contact us.</li></ol><p>Now you are ready to automate the process as described below.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="setup-packit">Setup Packit<a href="#setup-packit" class="hash-link" aria-label="Direct link to Setup Packit" title="Direct link to Setup Packit">â</a></h2><p>Create a <code>.packit.yaml</code> configuration file in your pull request.</p><p>But just the first time! After your pull request has been merged, Packit will take the <code>.packit.yaml</code> file from the target <em>main branch</em>.</p><p>The configuration file will look like the following:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">jobs:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- job: copr_build</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  trigger: pull_request</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  targets:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - fedora-all</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- job: vm_image_build</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  trigger: pull_request</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  image_request:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    architecture: x86_64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    image_type: aws</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    upload_request:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      type: aws</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      options:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        share_with_accounts:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - &lt; shared-aws-account-id &gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  image_distribution: fedora-39</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  copr_chroot: fedora-39-x86_64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  image_customizations:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    packages: [hello-world]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="copr_build-job">copr_build job<a href="#copr_build-job" class="hash-link" aria-label="Direct link to copr_build job" title="Direct link to copr_build job">â</a></h3><p>The first job tells Packit service to build an RPM package, for the Fedora release you want,
in this example all the active fedora releases, and to add your pull request changes to the package.</p><p>To further customize the COPR builds made by Packit you may want to give a look at this
<a href="https://packit.dev/docs/configuration/upstream/copr_build" target="_blank" rel="noopener noreferrer">guide</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="vm_image_build-job">vm_image_build job<a href="#vm_image_build-job" class="hash-link" aria-label="Direct link to vm_image_build job" title="Direct link to vm_image_build job">â</a></h3><p>The second job tells Packit how to configure the Builder Image service.</p><p>The first two lines of this job are still meant for Packit;
they allow Packit to react to your pull request comment <code>/packit vm-image-build</code>.
Packit does not build a VM image automatically, as it does when it builds a COPR package,
to save you from no wanted costs.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">- job: vm_image_build</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">trigger: pull_request</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The other lines are meant to customize the Image Builder behaviour.</p><p>You are asking to build an <em>AWS</em> image, with a <em>fedora-39</em> distribution,
for the <em>x86_64</em> architecture and you want to share it with the listed
<em>AWS Account IDs</em>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">image_request:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  architecture: x86_64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  image_type: aws</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  upload_request:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    type: aws</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    options:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      share_with_accounts:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - &lt; shared-aws-account-id &gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">image_distribution: fedora-39</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You don&#x27;t want to manually install the COPR package into the image,
for this reason you ask the Image Builder to install it (<em>hello-world</em>).</p><p>You tell Image Builder to take it from the COPR chroot <em>fedora-39-x86_64</em>,
and you don&#x27;t need to create or specify a COPR project because it has
been automatically created by Packit for you.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">copr_chroot: fedora-39-x86_64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">image_customizations:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  packages: [hello-world]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="create-comment-and-test-a-pull-request">Create, comment and test a pull request!<a href="#create-comment-and-test-a-pull-request" class="hash-link" aria-label="Direct link to Create, comment and test a pull request!" title="Direct link to Create, comment and test a pull request!">â</a></h2><p>Create a pull request, mine will show you the <strong>world</strong> word in green ð¿.</p><p>You are ready to go, just comment your pull request with</p><p><code>/packit vm-image-build</code></p><p>and the image will be built and customized for you.</p><p>Look for the check named <strong>vm-image-build-fedora-39-x86_64</strong>
and wait for it to finish.</p><p><img loading="lazy" alt="Wait for check vm-image-build-fedora-39-x86_64 to finish" src="/assets/images/checks_vm_image_build-0ec652132670f4da590dca9dc372a468.png" width="512" height="194" class="img_ev3q"></p><p>Open its details and you will find the link
to the AWS image.</p><p><img loading="lazy" alt="The check details have a link to the AWS image" src="/assets/images/link_to_aws_image-16f87362483365f8530c80041de39ada.png" width="512" height="198" class="img_ev3q"></p><p>Open the AWS link (you need to be already logged in) and
see the details of your image ready to be launched.</p><p><img loading="lazy" alt="The AWS image details" src="/assets/images/ami-link-2bb9d9e9a1da6c8e18ca31b39db13789.png" width="512" height="246" class="img_ev3q"></p><p>Launch your image instance and connect to it.</p><p><img loading="lazy" alt="Connect to instance details" src="/assets/images/connect-to-instance-0f2ae4856b17566477e3e4e29074075f.png" width="512" height="393" class="img_ev3q"></p><p>Test it!</p><p><img loading="lazy" alt="Test it!" src="/assets/images/hello-world-809c7da500a4aca0a1d5b7fbdd3ea1fc.png" width="495" height="94" class="img_ev3q"></p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/posts/tags/image-builder">image-builder</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/posts/specfile-introduction">Introduction to specfile library</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2024-01-12T00:00:00.000Z" itemprop="datePublished">January 12, 2024</time> Â· <!-- -->4 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/nforro" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/nforro.png" alt="Nikola ForrÃ³"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/nforro" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Nikola ForrÃ³</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>Have you ever wanted to make changes in an RPM spec file programmatically? <em>specfile</em> library
has been created for that very purpose. It is a pure Python library that allows you to conveniently
edit different parts of a spec file while doing its best to keep the resulting changeset minimal
(no unnecessary whitespace changes etc.).</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="installation">Installation<a href="#installation" class="hash-link" aria-label="Direct link to Installation" title="Direct link to Installation">â</a></h2><p>The library is packaged for Fedora, EPEL 9 and EPEL 8 and you can simply install it with dnf:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">dnf </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> python3-specfile</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>On other systems, you can use pip (just note that it requires RPM Python bindings to be installed):</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pip </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> specfile</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="usage">Usage<a href="#usage" class="hash-link" aria-label="Direct link to Usage" title="Direct link to Usage">â</a></h2><p>Let&#x27;s have a look at a few simple examples of how to use the library.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="bumping-release">Bumping release<a href="#bumping-release" class="hash-link" aria-label="Direct link to Bumping release" title="Direct link to Bumping release">â</a></h3><p>To bump release and add a new changelog entry, we could use the following code:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> specfile </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Specfile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> Specfile</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;example.spec&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    spec</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">release </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">spec</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">expanded_release</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    spec</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_changelog_entry</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;- Bumped release for test purposes&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Let&#x27;s take a look at what happens here:</p><p>We instantiate <code>Specfile</code> class with a path to our spec file and use it as a context manager
to automatically save all changes upon exiting the context.</p><p>We then use <code>expanded_release</code> property to get the current value of <code>Release</code> tag after macro expansion.
We assume it is numeric, so we simply convert it to integer, add 1, convert the result back to string
and assign the new value to <code>release</code> property.</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>Note that <code>release</code>/<code>expanded_release</code> properties exclude dist tag (usually <code>%{?dist}</code>) - for convenience,
it is ignored when reading and preserved unmodified when writing. If that&#x27;s not what you want, you can use
<code>raw_release</code>/<code>expanded_raw_release</code> properties instead.</p></div></div><p>Finally, we add a new changelog entry. We don&#x27;t specify any other arguments but content,
so the author is determined automatically using the same procedure as <code>rpmdev-packager</code> uses
and date is set to current day.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="switching-to-autochangelog">Switching to <code>%autochangelog</code><a href="#switching-to-autochangelog" class="hash-link" aria-label="Direct link to switching-to-autochangelog" title="Direct link to switching-to-autochangelog">â</a></h3><p>To make a switch from traditional changelog to <code>%autochangelog</code>, we could do the following:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> pathlib</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> specfile </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Specfile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spec </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Specfile</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;example.spec&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> autosave</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> spec</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sections</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> sections</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    entries </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> sections</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">changelog</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sections</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">changelog</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;%autochangelog&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pathlib</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;changelog&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">write_text</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;\n&quot;</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">join</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">entries</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;\n&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Let&#x27;s take a look at what happens here:</p><p>We instantiate <code>Specfile</code> class with a path to our spec file and we also set <code>autosave</code> argument
that ensures that any changes are saved automatically as soon as possible.</p><p><em>specfile</em> heavily relies on context managers. Here we are using <code>sections()</code> method that returns
a context manager that we can use to manipulate spec file sections. Upon exiting the context,
any modifications done are propagated to the internal representation stored in our <code>Specfile</code> instance,
and since <code>autosave</code> is set, they are immediately saved to the spec file as well.</p><p>First, we store a copy of the content of the <code>%changelog</code> section. The content is represented
as a list of lines.</p><p>Then we replace the content with a single line - &quot;%autochangelog&quot;.</p><p>Finally, we save the stored content into a &quot;changelog&quot; file.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="iterating-through-tags">Iterating through tags<a href="#iterating-through-tags" class="hash-link" aria-label="Direct link to Iterating through tags" title="Direct link to Iterating through tags">â</a></h3><p>Contexts can be nested. Here is a code that iterates through all <em>package</em> sections
(including the first, implicitly named one; also known as <em>preamble</em>) and prints expanded value
of all <code>Requires</code> tags:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">spec </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Specfile</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;example.spec&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> spec</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sections</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> sections</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> section </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> sections</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># normalized name of a section is lowercased</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> section</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">normalized_name </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;package&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">continue</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> spec</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tags</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">section</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> tags</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> tag </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> tags</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token comment" style="color:#999988;font-style:italic"># normalized name of a tag is capitalized</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> tag</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">normalized_name </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Requires&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token keyword" style="color:#00009f">continue</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;Section: </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">section</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation builtin">id</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">, Tag: </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">tag</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">name</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">, Value: </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">tag</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">expanded_value</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Let&#x27;s take a look at what happens here:</p><p>We instantiate <code>Specfile</code> class with a path to our spec file. This time we don&#x27;t set <code>autosave</code> because
we are not doing any modifications (though we could still save any changes explicitly using <code>save()</code> method).</p><p>Then we use <code>sections()</code> context manager and iterate through sections; we skip sections not called &quot;package&quot;
(the initial <em>%</em> is ommited for convenience).</p><p>After that we use <code>tags()</code> context manager and pass the current section as an argument. This allows us
to iterate through tags in the current section. Without any argument, we would get a list of tags in <em>preamble</em>,
the very first section in a spec file. We skip tags not called &quot;Requires&quot; and finally print the values
of <code>Requires</code> tags after macro expansion. We also print tag names (not normalized) and section IDs - those are
section names followed by options, e.g. &quot;package -n alternative-name-for-example&quot;.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="more-info-and-links">More info and links<a href="#more-info-and-links" class="hash-link" aria-label="Direct link to More info and links" title="Direct link to More info and links">â</a></h2><p>Are you interested in more details, trying the library out or even contributing? You can find <em>specfile</em> source code on <a href="https://github.com/packit/specfile" target="_blank" rel="noopener noreferrer">GitHub</a>.
See the <a href="https://github.com/packit/specfile/blob/main/README.md" target="_blank" rel="noopener noreferrer">README</a> for more tips and usage examples.
You can also check out the <a href="https://packit.dev/specfile/api/specfile" target="_blank" rel="noopener noreferrer">API reference</a>.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/posts/tags/specfile">specfile</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/posts/experiences_with_rust">Experiences using Packit for a Rust executable Project</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-10-10T00:00:00.000Z" itemprop="datePublished">October 10, 2023</time> Â· <!-- -->5 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/mulkieran" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/mulkieran.png" alt="mulhern"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/mulkieran" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">mulhern</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>&quot;How absurdly simple!&quot; I cried.</p><p>&quot;Quite so!&quot; said he, a little nettled. &quot;Every problem becomes very childish when once it is explained to you.&quot;</p><ul><li>Arthur Conan Doyle, &quot;The Adventure of the Dancing Men&quot;</li></ul><p>We have planned for a while to use Packit to generate packages on Copr
on demand for our somewhat complicated Rust executable, stratisd. It
looked like this was going to be challenging, and in a sense it was,
but once the task was completed, it turned out to have been pretty
straightforward.</p></div><footer class="row docusaurus-mt-lg"><div class="col text--right"><a aria-label="Read more about Experiences using Packit for a Rust executable Project" href="/posts/experiences_with_rust"><b>Read More</b></a></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/posts/verify-sync-release-volunteers">Call for volunteers: help to test us the release syncing using staging instance</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-09-05T12:46:18.000Z" itemprop="datePublished">September 5, 2023</time> Â· <!-- -->2 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/lbarcziova" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/lbarcziova.png" alt="Laura BarcziovÃ¡"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/lbarcziova" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Laura BarcziovÃ¡</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>In the upcoming months, we plan to migrate our service to a new cluster. However, this may affect <code>propose_downstream</code>
and <code>pull_from_upstream</code> jobs due to the new firewall rules. The problematic aspects could be:</p><ul><li>commands you run in your <code>actions</code> during syncing the release involving interactions with external servers</li><li>downloading your sources from various hosting services (crates.io, npm, gems, etc.)</li></ul><p>To smoothen this transition, we kindly encourage you to enable one of these jobs on our already migrated staging instance.
This recommendation is particularly important if you belong to one of the groups affected by the two previous points.
This proactive step will help us identify and address any issues promptly.</p><p>Both instances can be run at the same time and the behaviour can be configured via the <code>packit_instances</code> configuration key,
which is by default set to <code>[&quot;prod&quot;]</code>. Picking just one instance is required only for <code>koji_build</code> and <code>bodhi_update</code> jobs since
both instances work with the production instances of Fedora systems. To avoid too much noise in your dist-git PRs, you
may enable the <code>pull_from_upstream</code>/<code>propose_downstream</code> job for only one target, resulting in only one additional PR created.</p><p>Here&#x27;s how you can enable one of the jobs on the staging instance:</p><ul><li><code>pull-from-upstream</code>:
The only thing needed is to duplicate the job in your Packit config using <code>packit_instances</code> configuration option. Example:</li></ul><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">job</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> pull_from_upstream</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">trigger</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> release</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">packit_instances</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;stg&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">dist_git_branches</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> fedora</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">rawhide</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><code>propose-downstream</code>:
For this job, you first need to <a href="/docs/guide#staging-instance">enable our staging Github app</a>
(you should be already automatically approved if you had been previously approved for production instance).
After that, similarly to <code>pull-from-upstream</code>, you only need to duplicate the job in your Packit config using <code>packit_instances</code>. Example:</li></ul><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">job</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> propose_downstream</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">trigger</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> release</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">packit_instances</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;stg&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">dist_git_branches</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> fedora</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">rawhide</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>When merging the PRs created by Packit, please don&#x27;t forget to merge the PRs created by the production instance
if you have a follow-up <code>koji_build</code> job enabled to ensure your builds will not be skipped
(or you can allow builds for staging instance as well, see <a href="/docs/configuration/downstream/koji_build#optional-parameters">allowed_pr_authors</a>)).</p></div></div><p>We would be happy if you could then report any problems to <a href="#contact">us</a>. We appreciate your collaboration in ensuring a seamless migration. Your Packit team!</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/posts/tags/downstream">downstream</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/posts/tags/pull-from-upstream">pull-from-upstream</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/posts/tags/propose-downstream">propose-downstream</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/posts/tags/staging">staging</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/posts/manual-triggering">(Tests) job triggering improvements</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-07-11T06:46:18.000Z" itemprop="datePublished">July 11, 2023</time> Â· <!-- -->3 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/lbarcziova" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/lbarcziova.png" alt="Laura BarcziovÃ¡"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/lbarcziova" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Laura BarcziovÃ¡</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>Recently, we received multiple contributions from the Strimzi team, specifically <a href="https://github.com/Frawless" target="_blank" rel="noopener noreferrer">Jakub Stejskal</a>
and <a href="https://github.com/kornys" target="_blank" rel="noopener noreferrer">David Kornel</a>,
for the functionality of manual triggering of jobs and other related improvements, mostly focusing on the testing
UX. We are very happy about these and would like to showcase the results of their awesome contributions.</p></div><footer class="row docusaurus-mt-lg"><div class="col col--9"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/posts/tags/configuration">configuration</a></li></ul></div><div class="col text--right col--3"><a aria-label="Read more about (Tests) job triggering improvements" href="/posts/manual-triggering"><b>Read More</b></a></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/posts/monorepos">Introducing monorepository support</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-07-04T07:20:06.000Z" itemprop="datePublished">July 4, 2023</time> Â· <!-- -->3 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/lbarcziova" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/lbarcziova.png" alt="Laura BarcziovÃ¡"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/lbarcziova" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Laura BarcziovÃ¡</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>We are very happy to announce a major enhancement to Packit! We have now added support for
monorepositories, enabling the integration of upstream repositories containing multiple downstream packages.
If you have a repository in the monorepo format, Packit can now help you automate the integration to downstream
distributions both from CLI and as a service.</p></div><footer class="row docusaurus-mt-lg"><div class="col col--9"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/posts/tags/monorepos">monorepos</a></li></ul></div><div class="col text--right col--3"><a aria-label="Read more about Introducing monorepository support" href="/posts/monorepos"><b>Read More</b></a></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/posts/release-field-handling">Handling of Release field in propose_downstream job</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-05-23T12:00:00.000Z" itemprop="datePublished">May 23, 2023</time> Â· <!-- -->2 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/nforro" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/nforro.png" alt="Nikola ForrÃ³"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/nforro" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Nikola ForrÃ³</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>We have recently made some fixes to the process of handling the <code>Release</code> field regarding the <code>%autorelease</code> macro, so let&#x27;s take that opportunity to explain how it works.</p></div><footer class="row docusaurus-mt-lg"><div class="col col--9"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/posts/tags/specfile">specfile</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/posts/tags/propose-downstream">propose-downstream</a></li></ul></div><div class="col text--right col--3"><a aria-label="Read more about Handling of Release field in propose_downstream job" href="/posts/release-field-handling"><b>Read More</b></a></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/posts/pre-commit-hooks">Packit&#x27;s pre-commit hooks</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-05-16T11:00:00.000Z" itemprop="datePublished">May 16, 2023</time> Â· <!-- -->3 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/jpopelka" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/jpopelka.png" alt="JiÅÃ­ Popelka"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/jpopelka" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">JiÅÃ­ Popelka</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p><a href="https://pre-commit.com" target="_blank" rel="noopener noreferrer">pre-commit</a> is a wonderful tool that saves you
a lot of time by automatically checking your changes before you
commit and/or push them out.</p></div><footer class="row docusaurus-mt-lg"><div class="col col--9"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/posts/tags/workflow">workflow</a></li></ul></div><div class="col text--right col--3"><a aria-label="Read more about Packit&#x27;s pre-commit hooks" href="/posts/pre-commit-hooks"><b>Read More</b></a></div></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"><a class="pagination-nav__link pagination-nav__link--next" href="/posts/page/2"><div class="pagination-nav__label">Older Entries</div></a></nav></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/guide">Onboarding guide</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/fedora-releases-guide">Fedora releases guide</a></li></ul></div><div class="col footer__col"><div class="footer__title">Contact</div><ul class="footer__items clean-list"><li class="footer__item">
                  <a href="https://matrix.to/#/#packit:fedora.im?web-instance[element.io]=chat.fedoraproject.org">
                    #packit:fedora.im
                  </a> (Matrix)
                </li><li class="footer__item">
                  <a href="mailto:hello@packit.dev">hello@packit.dev</a>
                </li><li class="footer__item">
                  <a href="https://fosstodon.org/@packit" rel="me">
                    @packit@fosstodon.org
                  </a> (Mastodon)
                </li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/usage">Usage Charts</a></li><li class="footer__item"><a class="footer__link-item" href="/posts">Blog Posts</a></li><li class="footer__item"><a href="https://github.com/packit" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2024 Packit is a Red Hat sponsored free software project. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.4766467a.js"></script>
<script src="/assets/js/main.3db5e8cf.js"></script>
</body>
</html>