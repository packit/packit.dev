<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-posts">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Lessons learned: Building production AI automation for RHEL package maintenance | Packit</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://packit.dev/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://packit.dev/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://packit.dev/posts/lessons-learned-ai-automation-rhel"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Lessons learned: Building production AI automation for RHEL package maintenance | Packit"><meta data-rh="true" name="description" content="After building and running AI-powered automation for RHEL package maintenance workflows (available in this repo), our team has learned a lot about what it takes to move from impressive demos to a reliable production system. Here are the key insights that might save you time and frustration on your own AI automation journey."><meta data-rh="true" property="og:description" content="After building and running AI-powered automation for RHEL package maintenance workflows (available in this repo), our team has learned a lot about what it takes to move from impressive demos to a reliable production system. Here are the key insights that might save you time and frustration on your own AI automation journey."><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2025-10-05T23:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/lbarcziova"><meta data-rh="true" property="article:tag" content="AI,automation,RHEL"><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://packit.dev/posts/lessons-learned-ai-automation-rhel"><link data-rh="true" rel="alternate" href="https://packit.dev/posts/lessons-learned-ai-automation-rhel" hreflang="en"><link data-rh="true" rel="alternate" href="https://packit.dev/posts/lessons-learned-ai-automation-rhel" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://STHKG8EYKZ-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Packit" href="/opensearch.xml">








<link rel="alternate" type="application/rss+xml" href="/posts/rss.xml" title="Packit Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/posts/atom.xml" title="Packit Blog Atom Feed">
<link rel="alternate" type="application/json" href="/posts/feed.json" title="Packit Blog JSON Feed">
<link rel="alternate" type="application/rss+xml" href="/posts/weekly/rss.xml" title="Packit Weekly RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/posts/weekly/atom.xml" title="Packit Weekly Atom Feed">
<link rel="alternate" type="application/json" href="/posts/weekly/feed.json" title="Packit Weekly JSON Feed"><link rel="stylesheet" href="/assets/css/styles.4a3b9af6.css">
<link rel="preload" href="/assets/js/runtime~main.65080482.js" as="script">
<link rel="preload" href="/assets/js/main.f449e0a9.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="Packit Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.png" alt="Packit Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Packit</b></a><a class="navbar__item navbar__link" href="/docs">Documentation</a><a class="navbar__item navbar__link" href="/fedora-ci">Fedora CI</a><a class="navbar__item navbar__link" href="/source-git">Source-git</a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/development">Development</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/deployment">Deployment</a></li><li><a class="dropdown__link" href="/research">Research</a></li><li><a class="dropdown__link" href="/agile">Agile</a></li><li><a class="dropdown__link" href="/specfile">specfile library</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/posts">Blog Posts</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/posts/weekly">Weekly Updates</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="https://dashboard.packit.dev" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Dashboard<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://status.packit.dev/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Status<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/packit" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/posts/lessons-learned-ai-automation-rhel">Lessons learned: Building production AI automation for RHEL package maintenance</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/posts/specfile-advanced">Advanced usage of the specfile library</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/posts/packit-in-2024">Packit in 2024</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/posts/packit_1_0_0_action_required">Packit 1.0.0 countdown - action may be required</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/posts/project-mycorrhiza">Packit dashboard and Project Mycorrhiza</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="title_f1Hy" itemprop="headline">Lessons learned: Building production AI automation for RHEL package maintenance</h1><div class="container_mt6G margin-vert--md"><time datetime="2025-10-05T23:00:00.000Z" itemprop="datePublished">October 5, 2025</time> · <!-- -->8 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/lbarcziova" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/lbarcziova.png" alt="Laura Barcziová"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/lbarcziova" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Laura Barcziová</span></a></div></div></div></div></div></header><div id="__blog-post-container" class="markdown" itemprop="articleBody"><p>After building and running AI-powered automation for RHEL package maintenance workflows (available in <a href="https://github.com/packit/ai-workflows" target="_blank" rel="noopener noreferrer">this</a> repo), our team has learned a lot about what it takes to move from impressive demos to a reliable production system. Here are the key insights that might save you time and frustration on your own AI automation journey.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="too-many-frameworks">Too many frameworks<a href="#too-many-frameworks" class="hash-link" aria-label="Direct link to Too many frameworks" title="Direct link to Too many frameworks">​</a></h2><p>When we started this project, the number of AI frameworks available was both exciting and overwhelming. We experimented with multiple approaches:</p><ul><li><strong><a href="https://block.github.io/goose/" target="_blank" rel="noopener noreferrer">Goose AI</a></strong> - Our early experiments used Goose with YAML-based recipes for tasks like issue triage and package rebasing</li><li><strong><a href="https://framework.beeai.dev" target="_blank" rel="noopener noreferrer">BeeAI Framework</a></strong> - Eventually became our production choice, offering more structured agent development with requirement-based workflows involving a lot of code automation (Python-based)</li><li><strong><a href="https://google.github.io/adk-docs/get-started/quickstart" target="_blank" rel="noopener noreferrer">Google&#x27;s ADK</a></strong> - A big contender, it took us hours to debate and decide</li><li><strong><a href="https://llamastack.github.io/latest/" target="_blank" rel="noopener noreferrer">LlamaStack</a></strong> - It wasn&#x27;t mature enough</li><li><strong>Custom MCP (Model Context Protocol)</strong> integrations - For connecting to services like Jira and GitLab</li></ul><p>The reality? Every framework has trade-offs, and the “best” choice depends heavily on your specific use case. Goose was great for rapid prototyping and was an excellent starting point choice, but we quickly discovered we needed something more robust for production. With so many options available, we went with something we were able to easily start with and still achieve good results. BeeAI&#x27;s structured approach with conditional requirements and many more possibilities of restrictions and control over agents proved more suitable for our complex, multi-step workflows.</p><p>Since security is very important for the production-level system, and it&#x27;s also easy to create your own MCP server, we&#x27;ve opted for that option so the code is 100% controlled by us. This way, we can define exactly which Jira fields can be touched, what values are allowed, and under what conditions. Agents get an exact list of functions they can use, and none of them have any credentials in their environment: everything that needs authentication goes through MCP.</p><p><strong>Lesson learned:</strong> Don&#x27;t get stuck in analysis paralysis. Pick a framework that aligns with your team&#x27;s expertise and iterate. You can always migrate later (and we did).</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-demo-to-production-gap-is-enormous">The Demo-to-Production gap is enormous<a href="#the-demo-to-production-gap-is-enormous" class="hash-link" aria-label="Direct link to The Demo-to-Production gap is enormous" title="Direct link to The Demo-to-Production gap is enormous">​</a></h2><p>AI agents can be incredibly impressive in demos. Show someone an agent that can analyse a Jira issue, determine it needs a backport, find the upstream patch, and apply it automatically - and they&#x27;ll be amazed. As we were amazed too. But making that work reliably in production? That&#x27;s where the real work begins.</p><p>Our triage agent, which analyses Jira issues and decides follow-up actions, for example, has a 150+ line prompt with detailed decision trees:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># From Triage Agent - just a snippet of the complexity</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">**Decision Guidelines &amp; Investigation Steps**</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">You must decide between one of 5 actions. Follow these guidelines:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="display:inline-block;color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">1. **Rebase** - Only when issue explicitly instructs to &quot;rebase&quot; or &quot;update&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">2. **Backport a Patch OR Request Clarification**</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">   2.1. Deep Analysis of the Issue</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">   2.2. Systematic Source Investigation</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">   2.3. Validate the Fix and URL</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">   2.4. Decide the Outcome</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">3. **No Action** - For non-bugs (QE tasks, features, docs)</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">4. **Error** - Processing issues preventing analysis</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>What looks like a simple “analyse this issue” task actually requires:</p><ul><li>Complex decision trees with multiple fallback paths</li><li>Comprehensive error handling for edge cases</li><li>Detailed validation of patches and URLs</li><li>Integration with multiple external systems (Jira, GitLab, upstream repos)</li></ul><p><strong>Lesson learned:</strong> Don&#x27;t let demo success fool you into underestimating production complexity.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-art-of-decomposition">The art of decomposition<a href="#the-art-of-decomposition" class="hash-link" aria-label="Direct link to The art of decomposition" title="Direct link to The art of decomposition">​</a></h2><p>Like many AI projects, we started with the foolish idea of building one super-agent that could handle everything. Fortunately, we realised very quickly that this just isn&#x27;t possible - at least not reliably.</p><p>Our foundation became three core agents, which proved to be an excellent starting point:</p><ol><li><strong>Triage Agent</strong> - Analyses Jira issues and determines the resolution path</li><li><strong>Rebase Agent</strong> - Handles package updates to newer upstream versions</li><li><strong>Backport Agent</strong> - Applies specific patches and fixes</li></ol><p>But as we started encountering specific production issues and as these agents grew increasingly complex with corner cases and real-world requirements, we began implementing even more specialised agents that integrate seamlessly with our main three.</p><p>The Log Agent is a perfect example of this evolution. Instead of having the backport and rebase agents figure out how to document their changes (adding yet another responsibility to already complex workflows), we created a dedicated specialist:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># This is just a snippet from the Log Agent instructions</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">You are an expert on summarizing packaging changes in RHEL ecosystem.</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">To document a change:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">1. Use `git diff --cached` to see the final changes staged for commit</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">2. Add a changelog entry to the spec file with proper formatting</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">3. Generate a commit message title (max 80 characters)</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">4. Summarize changes for the merge request description</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This specialisation journey is still ongoing, and we can absolutely see opportunities to create even smaller, more focused agents. Each new specialised agent makes our workflows more robust and our main agents cleaner and more reliable.</p><p><strong>Lesson learned:</strong> Start with a small number of core agents, but don&#x27;t be afraid to extract specialised functionality as complexity grows.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="models-matter-but-tooling-and-architecture-matter-more">Models matter, but tooling and architecture matter more<a href="#models-matter-but-tooling-and-architecture-matter-more" class="hash-link" aria-label="Direct link to Models matter, but tooling and architecture matter more" title="Direct link to Models matter, but tooling and architecture matter more">​</a></h2><p>We&#x27;ve experimented with multiple models, providers and settings:</p><ul><li><a href="https://ai.google.dev/gemini-api" target="_blank" rel="noopener noreferrer">Google&#x27;s Gemini</a> (currently <code>gemini-2.5-pro</code>)</li><li><a href="https://claude.ai/" target="_blank" rel="noopener noreferrer">Anthropic&#x27;s Claude</a> (<code>claude-sonnet-4</code>)</li><li>Custom temperature and parameter tuning</li></ul><p>Yes, newer models often perform better, and it&#x27;s worth trying them. But here&#x27;s what matters more:</p><ol><li><strong>Proper tooling:</strong> Our agents have access to specialised tools, which provide deterministic, reliable functionality that the AI can leverage.</li><li><strong>Task decomposition:</strong> Breaking complex workflows into smaller, manageable steps with clear inputs and outputs.</li><li><strong>Validation and error handling:</strong> Every step has validation, and failures are handled gracefully with retry logic.</li><li><strong>Explicit system prompt:</strong> LLMs can be very creative in their solutions, make sure to precisely guide them via system prompts.</li></ol><p>For example, our backport agent doesn&#x27;t just “apply a patch” - it has a sophisticated workflow and tools:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Specialized tools for reliable patch handling</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tools</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    GitPatchCreationTool</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">options</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">local_tool_options</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    GitPatchApplyTool</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">options</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">local_tool_options</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    GitPatchApplyFinishTool</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">options</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">local_tool_options</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    GitLogSearchTool</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">options</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">local_tool_options</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    GitPreparePackageSourcesTool</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">options</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">local_tool_options</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># ... more specialized tools</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Lesson learned:</strong> Invest time in tooling and architecture.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="mixing-ai-creativity-with-code-reliability">Mixing AI creativity with code reliability<a href="#mixing-ai-creativity-with-code-reliability" class="hash-link" aria-label="Direct link to Mixing AI creativity with code reliability" title="Direct link to Mixing AI creativity with code reliability">​</a></h2><p>This might be the most important lesson: AI agents will never be 100% deterministic, and that&#x27;s actually okay for many use cases. But you need to be strategic about where you accept non-determinism and where you demand consistency.</p><p><strong>Examples where we embrace AI non-determinism:</strong></p><ul><li>Analysing natural language in Jira issues</li><li>Writing commit messages and documentation</li><li>Searching for fixes upstream</li></ul><p><strong>Examples where we use deterministic code:</strong></p><ul><li>Git operations (clone, checkout, apply patches)</li><li>File system operations</li><li>Complex deterministic logic, like mapping RHEL versions to branches</li></ul><p><strong>Lesson learned:</strong> Design your system to be “AI-assisted” rather than “AI-controlled”. Use AI for the creative, analytical work, but rely on deterministic code for the critical operations.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="from-code-to-service">From code to service<a href="#from-code-to-service" class="hash-link" aria-label="Direct link to From code to service" title="Direct link to From code to service">​</a></h2><p>Once you move from building a prototype to building a production system, you also need to think about the infrastructure and other components, not just agents and code around them. Here are just a few examples of what we architected that keeps AI agents running reliably:</p><ul><li><strong>Queue-based architecture:</strong> We use valkey queues to orchestrate work between agents, a reliable pattern we already knew worked. Issues flow through different queues with automatic retry logic.</li><li><strong>Observability:</strong> Every agent action flows through <a href="https://phoenix.arize.ai/" target="_blank" rel="noopener noreferrer">Phoenix tracing</a>, giving us complete visibility into what agents are thinking and doing. When something goes wrong, we can trace exactly which decisions led to the failure. This isn&#x27;t just logging - it&#x27;s understanding why your AI system made specific choices.</li><li><strong>Container deployment:</strong> The entire system runs on OpenShift and each agent type has its own deployment with resource limits. This also makes the whole system easily scalable.</li><li><strong>Dry-run capabilities:</strong> Every operation has a dry-run support built in. This helps us to better test and debug the agent&#x27;s behaviour. When an agent makes an unexpected decision, we can replay the scenario safely.</li></ul><p><strong>Lesson learned:</strong> Start thinking about operational capabilities on day one. Dry-run modes, proper logging, and failure recovery aren&#x27;t “nice to haves” - they are what makes AI systems actually usable. And since LLMs produce a ton of output, you&#x27;ll need an efficient way to find out why the agents made such an odd decision.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="takeaways">Takeaways<a href="#takeaways" class="hash-link" aria-label="Direct link to Takeaways" title="Direct link to Takeaways">​</a></h2><p>After roughly 3.5 months of development, our system is currently running for a selected set of components - and it&#x27;s being heavily developed. But by following these principles, we&#x27;ve seen a huge difference in reliability and maintainability. More importantly, we&#x27;re now much clearer about what&#x27;s actually possible to do with AI and what isn&#x27;t.</p><p>Ask me again in 3 months, and I&#x27;ll probably have another set of valuable lessons learned. But that&#x27;s the nature of this rapidly evolving field.</p></div><footer class="row docusaurus-mt-lg blogPostFooterDetailsFull_mRVl"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/posts/tags/ai">AI</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/posts/tags/automation">automation</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/posts/tags/rhel">RHEL</a></li></ul></div><div class="col margin-top--sm"><a href="https://github.com/packit/packit.dev/tree/main/posts/lessons-learned-ai-automation-rhel/index.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--next" href="/posts/specfile-advanced"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Advanced usage of the specfile library</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#too-many-frameworks" class="table-of-contents__link toc-highlight">Too many frameworks</a></li><li><a href="#the-demo-to-production-gap-is-enormous" class="table-of-contents__link toc-highlight">The Demo-to-Production gap is enormous</a></li><li><a href="#the-art-of-decomposition" class="table-of-contents__link toc-highlight">The art of decomposition</a></li><li><a href="#models-matter-but-tooling-and-architecture-matter-more" class="table-of-contents__link toc-highlight">Models matter, but tooling and architecture matter more</a></li><li><a href="#mixing-ai-creativity-with-code-reliability" class="table-of-contents__link toc-highlight">Mixing AI creativity with code reliability</a></li><li><a href="#from-code-to-service" class="table-of-contents__link toc-highlight">From code to service</a></li><li><a href="#takeaways" class="table-of-contents__link toc-highlight">Takeaways</a></li></ul></div></div></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/guide">Onboarding guide</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/fedora-releases-guide">Fedora releases guide</a></li></ul></div><div class="col footer__col"><div class="footer__title">Contact</div><ul class="footer__items clean-list"><li class="footer__item">
                  <a href="https://matrix.to/#/#packit:fedora.im?web-instance[element.io]=chat.fedoraproject.org">
                    #packit:fedora.im
                  </a> (Matrix)
                </li><li class="footer__item">
                  <a href="mailto:hello@packit.dev">hello@packit.dev</a>
                </li><li class="footer__item">
                  <a href="https://fosstodon.org/@packit" rel="me">
                    @packit@fosstodon.org
                  </a> (Mastodon)
                </li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/usage">Usage Charts</a></li><li class="footer__item"><a class="footer__link-item" href="/posts">Blog Posts</a></li><li class="footer__item"><a href="https://github.com/packit" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 Packit is a Red Hat sponsored free software project. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.65080482.js"></script>
<script src="/assets/js/main.f449e0a9.js"></script>
</body>
</html>