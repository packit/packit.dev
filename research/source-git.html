<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-research docs-doc-id-source-git/index">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Source-Git | Packit</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://packit.dev/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://packit.dev/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://packit.dev/research/source-git"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-research-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-research-current"><meta data-rh="true" property="og:title" content="Source-Git | Packit"><meta data-rh="true" name="description" content="How to do the rebase via source-git?"><meta data-rh="true" property="og:description" content="How to do the rebase via source-git?"><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://packit.dev/research/source-git"><link data-rh="true" rel="alternate" href="https://packit.dev/research/source-git" hreflang="en"><link data-rh="true" rel="alternate" href="https://packit.dev/research/source-git" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://STHKG8EYKZ-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Packit" href="/opensearch.xml">





<link rel="alternate" type="application/rss+xml" href="/posts/rss.xml" title="Packit Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/posts/atom.xml" title="Packit Blog Atom Feed">
<link rel="alternate" type="application/json" href="/posts/feed.json" title="Packit Blog JSON Feed">
<link rel="alternate" type="application/rss+xml" href="/posts/weekly/rss.xml" title="Packit Weekly RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/posts/weekly/atom.xml" title="Packit Weekly Atom Feed">
<link rel="alternate" type="application/json" href="/posts/weekly/feed.json" title="Packit Weekly JSON Feed"><link rel="stylesheet" href="/assets/css/styles.3595ad89.css">
<link rel="preload" href="/assets/js/runtime~main.cb858bf0.js" as="script">
<link rel="preload" href="/assets/js/main.83fc030a.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="Packit Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.png" alt="Packit Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Packit</b></a><a class="navbar__item navbar__link" href="/docs">Documentation</a><a class="navbar__item navbar__link" href="/source-git">Source-git</a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/development">Development</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/deployment">Deployment</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/research">Research</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/posts">Blog Posts</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/posts/weekly">Weekly Updates</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="https://dashboard.packit.dev" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Dashboard<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://status.packit.dev/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Status<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/packit" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/research">Research notes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/research/job_referencing">Job referencing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/research/making-decisions">Making decisions in our projects</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/research/automation-tools">Tools/libraries similar or related to the Packit</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tools/libraries similar or related to the Packit&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/research/category/celery">Celery</a><button aria-label="Toggle the collapsible sidebar category &#x27;Celery&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/research/category/database">Database</a><button aria-label="Toggle the collapsible sidebar category &#x27;Database&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/research/category/deployment">Deployment</a><button aria-label="Toggle the collapsible sidebar category &#x27;Deployment&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/research/deprecation">Deprecation policy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/research/git-notes">Git Notes</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/research/category/integrations">Integrations</a><button aria-label="Toggle the collapsible sidebar category &#x27;Integrations&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/research/category/automation-of-internal-processes">Automation of internal processes</a><button aria-label="Toggle the collapsible sidebar category &#x27;Automation of internal processes&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/research/monitoring">Monitoring &amp; Metrics</a><button aria-label="Toggle the collapsible sidebar category &#x27;Monitoring &amp; Metrics&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/research/monorepo-support">Monorepos</a><button aria-label="Toggle the collapsible sidebar category &#x27;Monorepos&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/research/outages">How to manage outages</a><button aria-label="Toggle the collapsible sidebar category &#x27;How to manage outages&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible menu__list-item-collapsible--active"><a class="menu__link menu__link--sublist menu__link--active" aria-current="page" aria-expanded="true" href="/research/source-git">Source-Git</a><button aria-label="Toggle the collapsible sidebar category &#x27;Source-Git&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/research/source-git/customize-update-dist-git">Customizing &#x27;source-git update-dist-git&#x27;</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/research/source-git/dist-git-to-src-git">Converting dist-git to source-git</a><button aria-label="Toggle the collapsible sidebar category &#x27;Converting dist-git to source-git&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/research/source-git/fedora-spec-files">Fedora package candidates for source-git</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/research/source-git/in-zuul">Source-git in Zuul</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/research/source-git/on-pagure">Source-git on Pagure</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/research/source-git/split-the-stream">Splitting source-git and upstream</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/research/source-git/sync-status">Verifying the sync status of source-git and dist-git repos</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/research/source-git/update">Updating source-git</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/research/category/specfiles">Specfiles</a><button aria-label="Toggle the collapsible sidebar category &#x27;Specfiles&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/research/category/testing">Testing</a><button aria-label="Toggle the collapsible sidebar category &#x27;Testing&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/research/category/user-interface">User Interface</a><button aria-label="Toggle the collapsible sidebar category &#x27;User Interface&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/research/user-stories">User Stories</a><button aria-label="Toggle the collapsible sidebar category &#x27;User Stories&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/research/category/user-experience">User Experience</a><button aria-label="Toggle the collapsible sidebar category &#x27;User Experience&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/research/workflow-engines">Workflow engines</a><button aria-label="Toggle the collapsible sidebar category &#x27;Workflow engines&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Source-Git</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Source-Git</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-do-the-rebase-via-source-git">How to do the rebase via source-git?<a href="#how-to-do-the-rebase-via-source-git" class="hash-link" aria-label="Direct link to How to do the rebase via source-git?" title="Direct link to How to do the rebase via source-git?">​</a></h2><p>Generally, we need to provide the following tasks:</p><ul class="contains-task-list containsTaskList_mC6p"><li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->The new change needs to be converted from upstream to source-git.</li><li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->The changed source-git can be converted to dist-git.<ul><li>Via PR or a new Bugzilla.</li><li>(This text does not cover this.)</li></ul></li></ul><p>What changes can occur?</p><ul><li>Change in upstream means always change in the source-archive in distgit.</li><li>Change in source-git can mean:<ul><li>Change in distribution files =&gt; can be converted directly.</li><li>Change in the source code =&gt; new patch needs to be added.</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="solutions-for-upstream---source-git-from-git-perspective">Solutions for upstream -&gt; source-git from GIT perspective<a href="#solutions-for-upstream---source-git-from-git-perspective" class="hash-link" aria-label="Direct link to Solutions for upstream -&gt; source-git from GIT perspective" title="Direct link to Solutions for upstream -&gt; source-git from GIT perspective">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="1-new-branch-for-each-release">1. New branch for each release<a href="#1-new-branch-for-each-release" class="hash-link" aria-label="Direct link to 1. New branch for each release" title="Direct link to 1. New branch for each release">​</a></h4><ul><li>We have one branch (<code>upstream</code> in the following image) mapping the upstream releases.</li><li>For each new upstream release, we will create a new source-git branch.</li></ul><p><img loading="lazy" alt="sync-upstream-release" src="/assets/images/sync-upstream-release-3ed6ce894d1e575bc2ed331b3cbf9323.svg" width="3036" height="2605" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="2-force-push">2. Force-push<a href="#2-force-push" class="hash-link" aria-label="Direct link to 2. Force-push" title="Direct link to 2. Force-push">​</a></h4><ul><li>For each new upstream release, we will regenerate source-git and force-push.</li></ul><p><img loading="lazy" alt="force-push-upstream-release" src="/assets/images/force-push-upstream-release-3859d2dd600852a6fa10fab541439094.svg" width="3036" height="2808" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="3-revert--regenerate">3. Revert &amp; Regenerate<a href="#3-revert--regenerate" class="hash-link" aria-label="Direct link to 3. Revert &amp; Regenerate" title="Direct link to 3. Revert &amp; Regenerate">​</a></h4><ul><li>We can use same solution we discussed <a href="/research/source-git/dist-git-to-src-git/updates">updates from distgit</a>.</li></ul><p><img loading="lazy" alt="revert-and-regenerate-upstream-release" src="/assets/images/revert-and-regenerate-upstream-release-6da1b74ced0f99e8d24233311c458520.svg" width="1176" height="2625" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="combination-of-1-and-2">Combination of 1. and 2.<a href="#combination-of-1-and-2" class="hash-link" aria-label="Direct link to Combination of 1. and 2." title="Direct link to Combination of 1. and 2.">​</a></h4><ul><li>Create a new source-git branch for a new release.</li><li>Have one main source-git branch that will always point to the HEAD of the current source-git.</li><li>Force-push needed.</li></ul><p><img loading="lazy" alt="sync-upstream-release+force-push" src="/assets/images/sync-upstream-release+force-push-9691e66fdd7deba54eeb9d7546594d2f.svg" width="3036" height="2808" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="combination-of-1-and-3">Combination of 1. and 3.<a href="#combination-of-1-and-3" class="hash-link" aria-label="Direct link to Combination of 1. and 3." title="Direct link to Combination of 1. and 3.">​</a></h4><ul><li>Create a new source-git branch for a new release.</li><li>Have one main source-git branch that will always contain the current source-git.
The updates will be done by reverting and recreating the new source-git on top of the old one.<ul><li>Various options mentioned in <a href="/research/source-git/dist-git-to-src-git/updates">updates from distgit</a>.</li></ul></li><li>No force-push needed.</li></ul><p><img loading="lazy" alt="sync-upstream-release+revert-and-regenerate" src="/assets/images/sync-upstream-release+revert-and-regenerate-b66316ba750a2118a9bda5ff23827fa3.svg" width="4806" height="2625" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="to-rebase-or-not-to-rebase">To rebase or not to rebase?<a href="#to-rebase-or-not-to-rebase" class="hash-link" aria-label="Direct link to To rebase or not to rebase?" title="Direct link to To rebase or not to rebase?">​</a></h3><p>It is a question if we want to do rebase or do the part of the source-git generation again.
How this can differ?</p><ul><li>Our generation algorithm can be improved.</li><li>The default packit config can be improved.</li><li>The non primary sources can change. (We add them in a form of commit on top of the upstream history.)</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-do-we-get-known-about-a-need-for-a-rebase">How do we get known about a need for a rebase?<a href="#how-do-we-get-known-about-a-need-for-a-rebase" class="hash-link" aria-label="Direct link to How do we get known about a need for a rebase?" title="Direct link to How do we get known about a need for a rebase?">​</a></h3><p>Various ideas about the trigger for rebasing follow. Combination of multiple approaches is possible.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="1-manual-update">1 Manual update<a href="#1-manual-update" class="hash-link" aria-label="Direct link to 1 Manual update" title="Direct link to 1 Manual update">​</a></h4><ul><li>User decides when he wants to do the rebase.</li><li>Implementation:<ul><li>Using a packit CLI.</li></ul></li><li>Possible conflicts can be solved on a git level.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="2-automation">2 Automation<a href="#2-automation" class="hash-link" aria-label="Direct link to 2 Automation" title="Direct link to 2 Automation">​</a></h4><p>It can be very convenient for users if we can trigger the update automatically,
without any manual intervention.
Various scenarios are described in the subsections.</p><p>When rebasing a new version, we can get a conflict that can&#x27;t be solved automatically.
What can we do in that case? (Both options can be used together.)</p><ul><li>Ask user to do the process manually, via CLI.</li><li>Open a merge request that can be updated manually.</li></ul><h5 class="anchor anchorWithStickyNavbar_LWe7" id="21-upstream-issue">2.1 Upstream issue<a href="#21-upstream-issue" class="hash-link" aria-label="Direct link to 2.1 Upstream issue" title="Direct link to 2.1 Upstream issue">​</a></h5><ul><li>New issue in source-git with a title like <code>rebase from upstream</code>.</li></ul><h5 class="anchor anchorWithStickyNavbar_LWe7" id="22-scheduled-update">2.2 Scheduled update<a href="#22-scheduled-update" class="hash-link" aria-label="Direct link to 2.2 Scheduled update" title="Direct link to 2.2 Scheduled update">​</a></h5><ul><li>No need to listen to any service.</li><li>We can potentially use Upstream Release Monitoring.</li><li>Like the current updates.</li></ul><h5 class="anchor anchorWithStickyNavbar_LWe7" id="23-listen-for-upstream-events">2.3 Listen for upstream events<a href="#23-listen-for-upstream-events" class="hash-link" aria-label="Direct link to 2.3 Listen for upstream events" title="Direct link to 2.3 Listen for upstream events">​</a></h5><ul><li>We don&#x27;t have access to upstream projects.</li><li>Upstream will either need to install our GitHub application or be enabled on github2fedmsg.</li></ul><h5 class="anchor anchorWithStickyNavbar_LWe7" id="24-listen-for-downstream-events">2.4 Listen for downstream events<a href="#24-listen-for-downstream-events" class="hash-link" aria-label="Direct link to 2.4 Listen for downstream events" title="Direct link to 2.4 Listen for downstream events">​</a></h5><ul><li>Update when the rebase is done in distgit.</li><li>Does not make sense for projects using source-git as a way to do the rebase.</li><li>This is more about syncing dist-git updates to source-git.</li></ul><h5 class="anchor anchorWithStickyNavbar_LWe7" id="25-bug-created">2.5 Bug created<a href="#25-bug-created" class="hash-link" aria-label="Direct link to 2.5 Bug created" title="Direct link to 2.5 Bug created">​</a></h5><ul><li>The bug can be created by Upstream Release Monitoring or manually.</li><li>Isn&#x27;t this a misuse of Bugzilla&#x27;s?</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-python-maintainers-do-source-git">How Python maintainers do source-git?<a href="#how-python-maintainers-do-source-git" class="hash-link" aria-label="Direct link to How Python maintainers do source-git?" title="Direct link to How Python maintainers do source-git?">​</a></h3><p>source: <a href="https://hackmd.io/9f64YNIZTCy0ZzKb5wKtqQ" target="_blank" rel="noopener noreferrer">https://hackmd.io/9f64YNIZTCy0ZzKb5wKtqQ</a></p><p>Structure:</p><ul><li>Fedora patches stored in <a href="https://github.com/fedora-python/cpython" target="_blank" rel="noopener noreferrer">https://github.com/fedora-python/cpython</a></li><li>In the repo, there are <code>fedora-X.Y</code> branches for python version<code>X.Y</code>.</li><li>This branch is based on the upstream history (build on top of the upstream tag).</li><li>On top of the upstream history, there are patches in form of git commits.</li><li>There is a naming scheme for the patch commits.</li><li>The git rebase is used for updating the branches. (There is a tag left for history purpose.)</li><li><code>git cherry-pick</code> used for rebasing downstream patch commits from a different branch.</li><li>Fix-up commits are created when patch needs to be edited.
(Interactive rebase is used when generating the dist-git patches.)</li><li>Removal is done as a commit revert.</li></ul><p>Converting commits to dist-git patches</p><ul><li>They use <a href="https://github.com/fedora-python/importpatches" target="_blank" rel="noopener noreferrer">importpatches script</a>.<ul><li>Python script using <code>git format-patch --no-numbered</code> behind the scenes.</li></ul></li><li>Obsolete patches needs to be handled manually.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-the-rebase-looks-like-for-chrony">How the rebase looks like for <code>chrony</code>?<a href="#how-the-rebase-looks-like-for-chrony" class="hash-link" aria-label="Direct link to how-the-rebase-looks-like-for-chrony" title="Direct link to how-the-rebase-looks-like-for-chrony">​</a></h3><p>We have a source-git repository for chrony containing the upstream history:
<a href="https://gitlab.com/packit-service/src/chrony/" target="_blank" rel="noopener noreferrer">https://gitlab.com/packit-service/src/chrony/</a></p><p>The important branch is the <code>el8-with-upstream</code> containing the upstream history
with the downstream commits on top of it:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">* 36f28c2f - Apply patch chrony-service-helper.patch (2 weeks ago) (el8-with-upstream) &lt;Packit&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* 03fe724d - Add sources defined in the spec file (2 weeks ago) &lt;Packit&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* 75055614 - Add spec-file for the distribution (2 weeks ago) &lt;Packit&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* 6557d593 - .packit.yaml (2 weeks ago) &lt;Packit&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* ffb9887c - doc: update NEWS (1 year, 7 months ago) (tag: 3.5) &lt;Miroslav Lichvar&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* 9220c9b8 - update copyright years (1 year, 7 months ago) &lt;Miroslav Lichvar&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* 2e28b191 - doc: add note about minsamples to FAQ (1 year, 7 months ago) &lt;Miroslav Lichvar&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* 636a4e27 - refclock: remove unnecessary strlen() call (1 year, 7 months ago) &lt;Miroslav Lichvar&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* 5c9e1e0b - test: extend 133-hwtimestamp test (1 year, 7 months ago) &lt;Miroslav Lichvar&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* 64fd1b8b - ntp: check value returned by CMSG_FIRSTHDR (1 year, 7 months ago) &lt;Miroslav Lichvar&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>As you can see, there is one commit with packit config file, second one with specfile
and the other one contains all the other sources that are defined in the specfile.
Then, commits representing the downstream patches follow.</p><p>We can use basic git rebase to update our source-git.
<a href="https://gitlab.com/packit-service/src/chrony/-/network/el8-with-upstream" target="_blank" rel="noopener noreferrer">Here</a>
you can see <code>rebase-for-master</code> and <code>rebase-for-3.5-stable</code> branches.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h3><ul><li>Probably the best way to do the updates is the manual way via CLI.<ul><li>It allows user to solved the possible conflicts.</li><li>Easier to implement.</li><li>The automation can be added later.</li></ul></li><li>Scheduled updates can be useful for rawhide in a &quot;automaintainer&quot; usecase.<ul><li>Can create a PR against SG.</li></ul></li><li>The <em>3. Revert &amp; Regenerate</em> can be used for the current source-git repositories (the dist-git ones).</li><li>The <em>Combination of 1. and 2.</em> can be used if we are able to force-push,
the <em>1. New branch for each release</em> or <em>Combination of 1. and 3.</em> otherwise.</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/packit/research/tree/main/research/source-git/index.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/research/outages/reporting"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Reporting</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/research/source-git/customize-update-dist-git"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Customizing &#x27;source-git update-dist-git&#x27;</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#how-to-do-the-rebase-via-source-git" class="table-of-contents__link toc-highlight">How to do the rebase via source-git?</a><ul><li><a href="#solutions-for-upstream---source-git-from-git-perspective" class="table-of-contents__link toc-highlight">Solutions for upstream -&gt; source-git from GIT perspective</a></li><li><a href="#to-rebase-or-not-to-rebase" class="table-of-contents__link toc-highlight">To rebase or not to rebase?</a></li><li><a href="#how-do-we-get-known-about-a-need-for-a-rebase" class="table-of-contents__link toc-highlight">How do we get known about a need for a rebase?</a></li><li><a href="#how-python-maintainers-do-source-git" class="table-of-contents__link toc-highlight">How Python maintainers do source-git?</a></li><li><a href="#how-the-rebase-looks-like-for-chrony" class="table-of-contents__link toc-highlight">How the rebase looks like for <code>chrony</code>?</a></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/guide">Onboarding guide</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/fedora-releases-guide">Fedora releases guide</a></li></ul></div><div class="col footer__col"><div class="footer__title">Contact</div><ul class="footer__items clean-list"><li class="footer__item">
                  <a href="https://chat.fedoraproject.org/#/room/#packit:fedora.im">
                    #packit:fedora.im
                  </a> (Element / Matrix)
                </li><li class="footer__item">
                  <a href="https://libera.chat/">
                    #packit:libera.chat
                  </a> (IRC)
                </li><li class="footer__item">
                  <a href="mailto:hello@packit.dev">hello@packit.dev</a>
                </li><li class="footer__item">
                  <a href="https://fosstodon.org/@packit" rel="me">
                    @packit@fosstodon.org
                  </a> (Mastodon)
                </li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/usage">Usage Charts</a></li><li class="footer__item"><a class="footer__link-item" href="/posts">Blog Posts</a></li><li class="footer__item"><a href="https://github.com/packit" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Packit is a Red Hat sponsored free software project. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.cb858bf0.js"></script>
<script src="/assets/js/main.83fc030a.js"></script>
</body>
</html>